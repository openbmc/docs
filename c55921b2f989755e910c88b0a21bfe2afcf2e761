{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2519b3cb_3e600c90",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2022-04-27T15:14:35Z",
      "side": 1,
      "message": "Gerrit review keeps track of the review comments, and they don\u0027t need to be in the commit message.\nPlease follow guidelines in https://github.com/openbmc/docs/blob/master/CONTRIBUTING.md#formatting-commit-messages\n(but I think the commit title says everything we need here).",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37b22eaf_58a6f0f5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2022-04-27T15:14:35Z",
      "side": 1,
      "message": "Thanks for getting this started!  A few questions...",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c281e56b_2488c2a1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2022-04-28T01:22:12Z",
      "side": 1,
      "message": "Thanks for the design. You have a bunch of different audiences to satisfy with this document, so I appreciate the difficulty in choosing what information to put in.\n\nThe questions I would like to see answered are:\n\n - How will you develop this without breaking the build? Will there be an opportunity for having some daemons protected by selinux, or is it a permissive/enforcing binary switch for the entire system?\n\n - I imagine you have a reference platform you will implement first. It would be useful to document how other developers would go about enabling selinux for their platform, which may run a different set of userspace tools\n\n - It would be useful to provide some metrics on filesystem usage and runtime impact once you have started implementation, to guide other developers on enabling this for their systems.",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "592b09c3_a3fecbee",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "I think the expectation is something like:\n\nRuud Haring \u003cRuudHaring#2662\u003e",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "995d0fc6_10a3b3c0",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "I don\u0027t recognize either of these individuals.  What does \"Primary Assignee\" mean in this context?\n\nI\u0027m proposing we drop it from the template with https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/53351",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 9,
        "endChar": 49
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2709e2f2_13b057fb",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "There isn\u0027t necessarily anything in your proposal that addresses this, is there?  Why not fix this so that, at least, externally facing applications run as non-root?",
      "range": {
        "startLine": 16,
        "startChar": 4,
        "endLine": 18,
        "endChar": 76
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48b0bf8c_45aa2d2e",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "Can you expand on why this is a problem?\n\nThere was another effort previously to fix this without introducing SELinux.  I assume to limit the dbus services you have to \"finish\" that work anyhow (there is some bus ACLs that dbus already supports).  So, is that really part of this design or not?",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "987cc900_845ea4d2",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "This paragraph feels like fluff.  All I see are buzzwords and platitudes with very little tie back to anything earlier.",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53e0e135_c99175bb",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "How is it addressing \"end-user security\"?",
      "range": {
        "startLine": 27,
        "startChar": 44,
        "endLine": 27,
        "endChar": 72
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f81d248_3022bd1e",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "What \"compliance requirements\" are there to run SELinux?  Can you point to them?",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 23
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2a9c838_91be36bb",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 62,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2022-04-27T15:14:35Z",
      "side": 1,
      "message": "The design should describe how to opt-in.  For example:\nTo opt in, add the meta-selinux layer to (for example) https://github.com/openbmc/openbmc/blob/master/meta-ibm/conf/bblayers.conf.sample\nand then ...(additional steps?).",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98f1535e_9972a1f3",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "Wow.  \"We\u0027re going to change a bunch of stuff but we don\u0027t know what yet.\"  I wouldn\u0027t call this a design.",
      "range": {
        "startLine": 63,
        "startChar": 0,
        "endLine": 64,
        "endChar": 63
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7377b084_6aff8c64",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2022-04-27T15:14:35Z",
      "side": 1,
      "message": "I assume these are SELinux policy configuration files.\nIt seems like this part of the design is not yet known.  It might be easier to restrict this design to *enabling* SELinux so it can be used in permissive mode, and stop there.  Then a follow-on design or updating this design can then talk about customizing policy files for OpenBMC for switching to enforcing mode.",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f18607d3_241c1a10",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "How do they go about doing this?  How do you ensure that all error paths have been executed when coming up with your policy/profile?  How do we ensure that as the code is enhanced the policy updates are done appropriately?  This sounds very error prone.",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e5fa5cd_3f465bfa",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "This is kind of lame.  Ratan ran into a problem and didn\u0027t debug it in any meaningful way, but instead opened an issue to another community and then pestered them when they didn\u0027t debug it for him.  Other people aren\u0027t going to do our work for us and this is not an appropriate argument for not using AppArmor.",
      "range": {
        "startLine": 78,
        "startChar": 43,
        "endLine": 80,
        "endChar": 68
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "739c365a_49026953",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2022-04-27T15:14:35Z",
      "side": 1,
      "message": "Ratan documented the difficulty using AppArmor here: https://gitlab.com/apparmor/apparmor/-/issues/183",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc41aca3_d0248513",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 93,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "This work wasn\u0027t finished partially because the author had a very hard time defining the DBus ACLs and getting them put into repositories.  Why do you think you\u0027re going to be more successful with SELinux?  Isn\u0027t it the _same_ ACLs at the DBus level?",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 93,
        "endChar": 25
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d65cb8a6_954213c4",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 100,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "This is completely insufficient.  We need to know how to develop appropriate policies for OpenBMC and how to maintain them and how to test them.",
      "range": {
        "startLine": 98,
        "startChar": 0,
        "endLine": 100,
        "endChar": 33
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dca41e61_5e57989b",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 104,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2022-04-28T07:13:42Z",
      "side": 1,
      "message": "You should make it clear if this is a new requirement placed on any application change (ie, we will have a system with enforcing mode enabled in CI, and any application change is required to update the selinux policy), or if this will be done independently by the selinux maintainers.\n\nI suggest imposing the former on the project will require some convincing. The latter is more palatable for the project as a whole.",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1dd327d_baa49ee5",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 104,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "We need to maintain the policies also.  How do we do this?  How is it \"caught in regression testing\"?  Do we have adequate regression testing of bad-path?",
      "range": {
        "startLine": 102,
        "startChar": 0,
        "endLine": 104,
        "endChar": 47
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c747ed81_6838d4c0",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 107,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "This is gigantic and completely unfeasible for most of our systems.  We need a much smaller footprint or else this work is effectively useless for anyone who isn\u0027t using an eMMC device (which is almost everyone).",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a0a7f76c_5a025d20",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1001321
      },
      "writtenOn": "2022-05-04T20:23:32Z",
      "side": 1,
      "message": "Need to add information about how debugging will be affected. Will debug tools like gdb kdb have special privileges in production build? If not, and without logs how will on field debug happen?",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 108,
        "endChar": 81
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab39bea2_8f1401ab",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-05-04T21:59:48Z",
      "side": 1,
      "message": "\u003e Will debug tools like gdb kdb have special privileges in production build?\n\nDo you run gdb on device in production builds?  I don\u0027t think many people do this.",
      "parentUuid": "a0a7f76c_5a025d20",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 108,
        "endChar": 81
      },
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aea12a94_34c014be",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 109,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2022-04-27T15:14:35Z",
      "side": 1,
      "message": "Do you mean this?: The default SELinux configuration builds log analysis tools into the BMC image, but the anticipated use case is to offload the logs and analyze them on another system, so SELinux will be configured to not include the log analysis tools.\n\nIf so, that should be stated in the design section.  Also, how do you advise BMC system integrators to obtain and use the log analysis tools?  Can they be built separately via Yocto bitbake, or can we get them from somewhere else?",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b38e396_e22af27c",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 113,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2022-04-27T15:14:35Z",
      "side": 1,
      "message": "If this design proposes to both enable SELinux and then create policies, we should state where those policy files will be stored.  Are they stored in each application\u0027s repository?  The design should address where the policy source files will be stored.",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93b59d64_0400d2a7",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 113,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2022-04-28T07:13:42Z",
      "side": 1,
      "message": "\u003e The design should address where the policy source files will be stored.\n\n+1\n\nPlease consider you have existing projects as well as those maintained by the openbmc project. We cannot expect to have the policies accepted upstream, so this would lead us towards including them in the bitbake tree.",
      "parentUuid": "7b38e396_e22af27c",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "739e1d12_3addd7f9",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 117,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2022-04-28T07:13:42Z",
      "side": 1,
      "message": "Does this work with busybox, or do we need to switch to coreutils?",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49d8081d_dc919a5c",
        "filename": "designs/selinux.md",
        "patchSetId": 3
      },
      "lineNbr": 117,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-28T17:39:58Z",
      "side": 1,
      "message": "\u003e Does this work with busybox, or do we need to switch to coreutils?\n\nYep.  I had the same callout.",
      "parentUuid": "739e1d12_3addd7f9",
      "revId": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}