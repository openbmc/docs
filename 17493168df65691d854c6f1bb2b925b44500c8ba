{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "19054634_aef19462",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 181,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2025-10-27T14:57:11Z",
      "side": 1,
      "message": "there is single config file /etc/lldpd.conf which can be updated to configure all interfaces.\nwhy do we need separate ports.conf \u0026 system.conf?",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0dd1dcb5_66eaeee4",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 181,
      "author": {
        "id": 1002604
      },
      "writtenOn": "2025-10-28T13:02:59Z",
      "side": 1,
      "message": "The idea is that separate files can make it easier for the implementation of the service to change the configuration of specific options.",
      "parentUuid": "19054634_aef19462",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41db8554_2b5fe0be",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 181,
      "author": {
        "id": 1000401
      },
      "writtenOn": "2025-10-29T18:20:27Z",
      "side": 1,
      "message": "While having one single config file vs multiple has no practical diff in performance, I guess having multiple config files (a global config + port-specific config files), will be simpler to maintain and debug, and less error-prone as a syntax error in one wont break others.",
      "parentUuid": "0dd1dcb5_66eaeee4",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52c48219_411b3247",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 181,
      "author": {
        "id": 1000401
      },
      "writtenOn": "2025-11-04T16:56:10Z",
      "side": 1,
      "message": "@ugoldfeld@nvidia.com\nCan you also mention the possibility of having port-specific config files? \n* Have only one ports.conf - that has eth* configs -- or --\n* Have \u0027n\u0027 (# of ports) config files - eth*.conf\nIts left to the implementation part on which one to consider.",
      "parentUuid": "41db8554_2b5fe0be",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "016db2db_6d4e2eb2",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 181,
      "author": {
        "id": 1002604
      },
      "writtenOn": "2025-11-05T09:50:21Z",
      "side": 1,
      "message": "Actually, maybe ports.conf shouldn\u0027t be part of the design. The configuration file the D-BUS service needs to know about is status.conf so it can keep the change to EnableLLDP persistent across reboots.\nPorts configuration files can be left for the implementation.",
      "parentUuid": "52c48219_411b3247",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7449ddd2_0dab2d86",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 181,
      "author": {
        "id": 1000401
      },
      "writtenOn": "2025-11-05T15:08:36Z",
      "side": 1,
      "message": "Sorry, am not getting it. What will this status.conf contain?\n\nwhy cant we use the default /etc/lldpd.conf file itself for this (system level configs)?",
      "parentUuid": "016db2db_6d4e2eb2",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5c5e462_3dfe2485",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 181,
      "author": {
        "id": 1002604
      },
      "writtenOn": "2025-11-05T15:33:24Z",
      "side": 1,
      "message": "In contains what it says in lines 178\nconfigure ports \u003cif_name\u003e lldp status enabled/disable \nWe can use the /etc/lldpd.conf, it is just a question of one config file or multiple.\nI think there needs to be a degree of separation between which files the service needs to read and write, and which files contain additional platform specific configurations that the service doesn\u0027t need to know about (and shouldn\u0027t be part of the design).",
      "parentUuid": "7449ddd2_0dab2d86",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e929d383_0f3326dd",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 181,
      "author": {
        "id": 1002604
      },
      "writtenOn": "2025-11-18T16:03:52Z",
      "side": 1,
      "message": "I removed ports.conf from the design. It will be up left for the implementation.",
      "parentUuid": "e5c5e462_3dfe2485",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12b7e4dc_dbfb56b4",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 190,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2025-10-27T14:57:11Z",
      "side": 1,
      "message": "there are options to run lldpd with disable_privsep/enable_privsep\nlldpd daemon by default run with privilege separation enabled which needs new lldpd local user created otherwise privilege separation needs to be disabled using disable_privsep, what\u0027s the plan on this privilege separation.",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "15517be4_3648575a",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 190,
      "author": {
        "id": 1002604
      },
      "writtenOn": "2025-10-28T13:02:59Z",
      "side": 1,
      "message": "The plan is to have privilege separation. This is best to be handles by a systemd service than runs before the lldpd service and created the lldpd user and group.\nThis is to be handled in the scope of lldpd bb files, so I didn\u0027t add it to this design document.\n\nFor example: \n\n# lldpd-setup-user.service\n[Unit]\nDescription\u003dConfigure lldpd user\nAfter\u003dsystemd-remount-fs.service\nAfter\u003dxyz.openbmc_project.User.Manager.service\nBefore\u003dlldpd.service\n\n[Service]\nType\u003doneshot\nExecStart\u003d/usr/bin/lldpd-setup-user.sh\nExecStartPost\u003d/bin/systemctl --no-reload disable lldpd-setup-user.service\nRemainAfterExit\u003dyes\nRestart\u003don-failure\nRestartSec\u003d30\n\n[Install]\nWantedBy\u003dmulti-user.target\n\n\n# lldpd-setup-user.sh\n#!/bin/sh\n\n#Script to ensure lldpd user and group exist\n\ngroupadd --system lldpd 2\u003e/dev/null\n\n#Create user if missing\nif ! id lldpd \u003e/dev/null 2\u003e\u00261; then\n    useradd --system -g lldpd --shell /bin/false lldpd \nfi",
      "parentUuid": "12b7e4dc_dbfb56b4",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82d9a05e_545d5242",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 190,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2025-11-03T06:42:39Z",
      "side": 1,
      "message": "ok, that\u0027s good. \nhave you pushed Gerrit commit with change? please share commit",
      "parentUuid": "15517be4_3648575a",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2eb7ab7e_d874d3b1",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 190,
      "author": {
        "id": 1002604
      },
      "writtenOn": "2025-11-04T13:49:24Z",
      "side": 1,
      "message": "I haven\u0027t pushed yet.",
      "parentUuid": "82d9a05e_545d5242",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ec3750db_3520330a",
        "filename": "designs/lldp/lldp-dbus-service.md",
        "patchSetId": 24
      },
      "lineNbr": 190,
      "author": {
        "id": 1002604
      },
      "writtenOn": "2025-11-12T10:58:28Z",
      "side": 1,
      "message": "@raviteja28031990@gmail.com I created https://gerrit.openbmc.org/c/openbmc/openbmc/+/85166\nFor the user separation/",
      "parentUuid": "2eb7ab7e_d874d3b1",
      "revId": "17493168df65691d854c6f1bb2b925b44500c8ba",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}