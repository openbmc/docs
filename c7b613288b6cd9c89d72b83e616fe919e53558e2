{
  "comments": [
    {
      "key": {
        "uuid": "802aa5e5_9f6cd4da",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Also IPMID?",
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "efb9b7a1_8d50ba94",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "Yes, thanks I\u0027ll add ipmid.",
      "parentUuid": "802aa5e5_9f6cd4da",
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1946eaf7_494f8cfb",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Replace with \"a developer\"  There might be no need for this to happen in bitbake data.",
      "range": {
        "startLine": 50,
        "startChar": 26,
        "endLine": 50,
        "endChar": 38
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7548f209_81255a98",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "Agreed.  Should I use the term \"system integrator\"?",
      "parentUuid": "1946eaf7_494f8cfb",
      "range": {
        "startLine": 50,
        "startChar": 26,
        "endLine": 50,
        "endChar": 38
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c960787e_95299496",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "This isn\u0027t a requirement, this is an implementation detail.  Please write your requirements in terms of what a user or developer needs to be able to configure.\n\nThere\u0027s also nothing in the design that requires these be in bmcweb, although we might conclude that.",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 63,
        "endChar": 21
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "90f44b81_9f8bb985",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "I found it hard to formulate the requirements.  I\u0027ll re-word this as you suggest.",
      "parentUuid": "c960787e_95299496",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 63,
        "endChar": 21
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "566296de_1591eba2",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Um......   Considering the operation-to-privilege mapping is based on Redfish base registry, and doesn\u0027t include OEM, how would it be at all useful if the design had no effect?  Maybe you might want to clarify a little?",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 72,
        "endChar": 68
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "152ff617_e35f4e00",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "I think this sentence should be moved to the \"Problem\" or \"Background\" section of this design and expanded there.  What I meant was...\n\nI think the \"Problem\" section needs to talk about the \"authority\" problem and how it breaks down into two parts (privilege model, and the operation-to-privilege mapping) as explained in the Redfish DSP0266_1.12.0 or later \u003e Security details \u003e Authorization.  Then explain this design only addresses the privilege model, and specifically only the role-to-privilege mapping.\n\nIn this sense, this design is is addressing only half of the authorization problem.  Nevertheless, I believe this design is a relatively independent enabling piece of the overall effort.",
      "parentUuid": "566296de_1591eba2",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 72,
        "endChar": 68
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b17491c_284e2ed7",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "This makes it sound like we use a file at all.  Today it\u0027s all in code.",
      "range": {
        "startLine": 76,
        "startChar": 29,
        "endLine": 77,
        "endChar": 35
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b19cf637_020e2d2d",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "Sorry.  In my previous life the designs were required to be written as though they were already approved and implemented.  I\u0027ll clarify this point.",
      "parentUuid": "9b17491c_284e2ed7",
      "range": {
        "startLine": 76,
        "startChar": 29,
        "endLine": 77,
        "endChar": 35
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28418419_653bc963",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "How do we avoid duplicating this data between systems?  If OpenBMC \"Invents\" another role, how do we avoid having to edit N config files.",
      "range": {
        "startLine": 93,
        "startChar": 0,
        "endLine": 95,
        "endChar": 58
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3aeb3a6_265df793",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "I struggled with this too.  I started with a more conventional configuration data like:\nREDFISH_ROLES\u003d\"Administrator Operator ReadOnly NoAccess\"\nREDFISH_ROLE_TO_PRIVILEGE_MAP_Administrator\u003d\"Login ConfigureManager ConfigureUsers ConfigureComponents\" ConfigureSelf\"\netc.\n\nIn this way, it would be easier to modify this data using conventional bitbake operations, e.g., REDFISH_ROLES +\u003d \"OemNewRole\".  Do you like that approach better?",
      "parentUuid": "28418419_653bc963",
      "range": {
        "startLine": 93,
        "startChar": 0,
        "endLine": 95,
        "endChar": 58
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71006e58_e2f1ccdc",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "if we\u0027re going to have system-specific variants of this, how will we make sure we keep up to date with the base registry?  Do we need a design where every file is a diff on top of the base registry, so we\u0027re not having to edit N platforms worth of systems every time we update?",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 109,
        "endChar": 38
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b56da005_7cb23cee",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "See my general response in the comment immediately above.  I like your idea that customizations should be a delta set of changes.\nIf we use that approach outlined there, then we could customize like this:\nREDFISH_ROLE_TO_PRIVILEGE_MAP_Administrator +\u003d \"OemNewPrivilege\"",
      "parentUuid": "71006e58_e2f1ccdc",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 109,
        "endChar": 38
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25fbd2c9_aa6c1c1c",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 112,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "If you have this, why is StandardRoles and CustomRoles required at all?",
      "range": {
        "startLine": 111,
        "startChar": 52,
        "endLine": 112,
        "endChar": 27
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a819eea6_3f2cae10",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 112,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "I\u0027m not sure what you are asking here.  My intention was:\n1. The redfish-role-info file (including this RoleInfo field) should completely specify the \"privilege model\".  Consequently, the standard and custom roles should be enumerated.\n2. The data passed in via the redfish-role-info file would define what roles showed up when a user would GET the Role object.  I was simply trying to point out the correlation between this design and the Role schema.\n\nNote the redfish-role-info file is a subset of the information in the Role schema, but my design choice was to not use the Role schema directly.  And if we move away from the redfish-role-info file as discussed in the comments above, this issue goes away.",
      "parentUuid": "25fbd2c9_aa6c1c1c",
      "range": {
        "startLine": 111,
        "startChar": 52,
        "endLine": 112,
        "endChar": 27
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01870936_fcd65d2c",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Please remove this item entirely.  Redfish gives no ordering definition in the spec, so we don\u0027t have a requirement for an ordering definition in openbmc.  The order of items might change at any time and should be treated as an implementation detail.",
      "range": {
        "startLine": 123,
        "startChar": 31,
        "endLine": 123,
        "endChar": 75
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8fd691b7_7b91220d",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "I would argue the opposite.  Even though Redfish does not specify the ordering sequence, users may expect the same sequence of roles and of privileges as presented in the Redfish spec and they are already accustomed to in OpenBMC.  Can this design specify that sequence is important?\nIf we remove this but leave it as an important implementation detail, does that mean it belongs in the design?",
      "parentUuid": "01870936_fcd65d2c",
      "range": {
        "startLine": 123,
        "startChar": 31,
        "endLine": 123,
        "endChar": 75
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93c9232b_19aec3fa",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Your design seems to completely miss the fact that the new privileges need to be mapped into the actual route table.  I don\u0027t see how you\u0027re going to do that with your current design;  The way I would imagine is for each system to include a privilege registry file, but doing that would duplicate a lot of data you have above, so I\u0027d like to see them at least de-duplicated.  For example, all the privilege levels can be gotten directly from the privilege registry.",
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcf73640_6a8c0a46",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "Yes, I agree the design completely missed that.  As I mentioned in a previous comment, that choice was intentional, and I will address that in the introduction of this design.",
      "parentUuid": "93c9232b_19aec3fa",
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6f40700_ced7cc71",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Can you please talk through how the privilege registry route would work in your design?  I suspect it doesn\u0027t, but for non-standard ipmlementations, would be required.",
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5aa472d8_76251ab5",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "This design does not address the privilege registry.  I\u0027ll clarify that in the introduction.",
      "parentUuid": "e6f40700_ced7cc71",
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "882892ac_2decd2b4",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 225,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Please make a better attempt at this section.  One sentence feels a bit rushed, especially considering it\u0027s a design others have proposed before, and gives the user more utility, and decreases the complexity within openbmc itself.  Please talk through these pros and cons.\n\nAlso, please come up with at least one other alternative.",
      "range": {
        "startLine": 225,
        "startChar": 0,
        "endLine": 225,
        "endChar": 15
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5b1c0f0_44924afe",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 225,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "I had not considered that making a general way to customize the privilege model was proposed before.  I\u0027ll check the old emails and old designs.\n\nWhat other alternatives do you see?  Either a general way to specify the privilege model (as described in this design) or developer will fork or patch bmcweb with their customizations.\n\nAre you looking for alternate ways to customize the privilege model?",
      "parentUuid": "882892ac_2decd2b4",
      "range": {
        "startLine": 225,
        "startChar": 0,
        "endLine": 225,
        "endChar": 15
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0858791_9788be14",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 231,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Considering now every system has its own redfish config, I wouldn\u0027t really call that trivial if we ever need to change the schema around.",
      "range": {
        "startLine": 231,
        "startChar": 0,
        "endLine": 231,
        "endChar": 7
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59a1fd79_762a4b07",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 231,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "I understand; thanks for pointing that out.  I meant this statement from the point of view of a system that did not customize the privilege model.\nI\u0027ll have to give this some more thought.",
      "parentUuid": "b0858791_9788be14",
      "range": {
        "startLine": 231,
        "startChar": 0,
        "endLine": 231,
        "endChar": 7
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "545fc81a_f3bf6ae3",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 235,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "This seems like more of a requirement than an impact.",
      "range": {
        "startLine": 233,
        "startChar": 0,
        "endLine": 235,
        "endChar": 0
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29795217_e7fb436b",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 235,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "Agreed.  I\u0027ll move this to the correct section.",
      "parentUuid": "545fc81a_f3bf6ae3",
      "range": {
        "startLine": 233,
        "startChar": 0,
        "endLine": 235,
        "endChar": 0
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1978f49_5fd657b2",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 239,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Please try again here.  Considering you\u0027re adding an explicit way to be incompatible with Redfish, simply saying they\u0027re \"out of scope\" does seem right.",
      "range": {
        "startLine": 238,
        "startChar": 0,
        "endLine": 239,
        "endChar": 72
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "438f74d3_95a4243a",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 239,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "What I meant was: If you use this design to create custom roles and OEM privileges, then you you are explicitly going outside Redfish\u0027s standard model so you need to carefully design and review each piece of your custom authority model.  That work is outside the scope of this design.\n\nTry #2:\nAlthough Redfish defines the authority model which says how custom roles and OEM privileges are applied, the overall effect on authorization, user management, and the overall security of the system is outside the scope of this design.",
      "parentUuid": "d1978f49_5fd657b2",
      "range": {
        "startLine": 238,
        "startChar": 0,
        "endLine": 239,
        "endChar": 72
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5a38f61_2816b3b1",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 243,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Please try again here.  Only testing the defaults doesn\u0027t really work in this context.  That would imply that no system actually checked in a custom registry, which would mean we have no examples.",
      "range": {
        "startLine": 243,
        "startChar": 0,
        "endLine": 243,
        "endChar": 54
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7d2438c_4f946eed",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 243,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "Agreed.  This work is hard because it has multiple pieces:\n- A customizable privilege model (this design)\n- A customizable privilege registry (as discussed in the email list)\n- My intention to use both of the above pieces on my system.\n- CI testing.",
      "parentUuid": "f5a38f61_2816b3b1",
      "range": {
        "startLine": 243,
        "startChar": 0,
        "endLine": 243,
        "endChar": 54
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92db3c4d_10aa45ef",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 245,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "Please work with Andrew on this.  I suspect that there aren\u0027t CI resources to build the image multiple times per-system, and run CI testing multiple times per system.  If there truly is, great, but even so, if all subsystems took this track, we\u0027d tie up way too many resources, so please propose a better solution.",
      "range": {
        "startLine": 244,
        "startChar": 34,
        "endLine": 245,
        "endChar": 6
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b921403d_9634a9c7",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 245,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "An obvious solution is for the bmcweb executable program to be built with multiple privilege models.  (Using Redfish\u0027s definition of privilege model: maps users to roles and maps roles to privileges.)\nWhich privilege model to be used could be selected by a command-line argument (so changing privilege models requires restarting BMCWeb).\n\nHowever, I don\u0027t like that solution at all, and present it only for discussion.\n\nThis solution is exactly parallel with the idea that bmcweb carry multiple operation-to-privilege maps (that is, multiple privilege registries).\n\nIf I recall correctly, in an email you had expressed the desire for a single bmcweb image be able to have multiple privilege registries.  Do you also need it to have multiple role mappings?  (I don\u0027t have this requirement.)  Let me know.  If so, that will add a small about of complexity, but I can add it the design.",
      "parentUuid": "92db3c4d_10aa45ef",
      "range": {
        "startLine": 244,
        "startChar": 34,
        "endLine": 245,
        "endChar": 6
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f4acbec_9fedb786",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 246,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "nit: \"Match the default specification\"",
      "range": {
        "startLine": 246,
        "startChar": 63,
        "endLine": 246,
        "endChar": 77
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e86dd084_768e9723",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 246,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "Agreed, will change.",
      "parentUuid": "7f4acbec_9fedb786",
      "range": {
        "startLine": 246,
        "startChar": 63,
        "endLine": 246,
        "endChar": 77
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed1b04d1_3c9ed955",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 248,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "nit: redfish.  bmcweb is an implementation detail as far as testing is concerned.",
      "range": {
        "startLine": 248,
        "startChar": 29,
        "endLine": 248,
        "endChar": 35
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7043c91_90dbf364",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 248,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "Agreed.  I\u0027ll list the D-Bus and REST endpoints.",
      "parentUuid": "ed1b04d1_3c9ed955",
      "range": {
        "startLine": 248,
        "startChar": 29,
        "endLine": 248,
        "endChar": 35
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79a01e96_4957c742",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 250,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-29T16:53:09Z",
      "side": 1,
      "message": "More detail needed here.  \"Ensure BMCWeb applies them correctly\" doesn\u0027t really give any indication of the test or how it works.  Are you planning on walking through all routes and testing the privilege levels?  If so, great, that would probably be required of something like this.",
      "range": {
        "startLine": 249,
        "startChar": 0,
        "endLine": 250,
        "endChar": 13
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aeb3a183_66295aa9",
        "filename": "designs/user-role-config.md",
        "patchSetId": 1
      },
      "lineNbr": 250,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-03-30T20:47:02Z",
      "side": 1,
      "message": "...specifically:\n - ensure each role is presented in URI /redfish/v1/AccountService/Roles.\n - ensure each role\u0027s properties are represented correctly under URI /redfish/v1/AccountService/Roles: privileges, OEM privileges, and if it is custom.\n - For each role and each privilege, ensure the access control is effectively applied to allow or disallow representative operations.  For example:\n     - Create a user with role OemNewRole.\n     - Have that user try to modify another user, perhaps using PATCH /redfish/v1/AccountService/Accounts/OTHERUSER {\"Locked\": false} as a representative operation that requires the ConfigureUsers privilege.\n     - Note if the operation succeeds or fails with HTTP status 401 Unauthorized.\n     - Validate against the expected result (which depends if OemNewRole has ConfigureUsers or not).",
      "parentUuid": "79a01e96_4957c742",
      "range": {
        "startLine": 249,
        "startChar": 0,
        "endLine": 250,
        "endChar": 13
      },
      "revId": "c7b613288b6cd9c89d72b83e616fe919e53558e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}