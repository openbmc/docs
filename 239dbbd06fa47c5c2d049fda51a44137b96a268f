{
  "comments": [
    {
      "key": {
        "uuid": "a3779c4c_9681d178",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "I know what you meant here, but that doesn\u0027t really come out as clear.  \"The ability to handle multiple types of sensor\" isn\u0027t really a motivation for this effort.",
      "range": {
        "startLine": 21,
        "startChar": 4,
        "endLine": 22,
        "endChar": 80
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "143419d7_4a89a1f4",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "Actually, it was an important motivation. I needed the ability for ExternalSensor not to be tied to one particular thing to measure. None of the other sensor daemons seemed to offer this flexibility already.",
      "parentUuid": "a3779c4c_9681d178",
      "range": {
        "startLine": 21,
        "startChar": 4,
        "endLine": 22,
        "endChar": 80
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3182f092_2916b838",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "Not really true, but I guess close enough?",
      "range": {
        "startLine": 26,
        "startChar": 4,
        "endLine": 26,
        "endChar": 7
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "869c5696_be1cf1ca",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "Reworded it to \"essentially all\".",
      "parentUuid": "3182f092_2916b838",
      "range": {
        "startLine": 26,
        "startChar": 4,
        "endLine": 26,
        "endChar": 7
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81323dfd_5ed21682",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "The way this is worded, IPMBSensor would \"accept values from an external source\"  The difference here is that values can be \"pushed\" to the bmc, instead of pulled.",
      "range": {
        "startLine": 28,
        "startChar": 70,
        "endLine": 30,
        "endChar": 27
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ff9893d_7a141aea",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "Good point. I made sure to mention that ExternalSensor accepts values pushed to it.",
      "parentUuid": "81323dfd_5ed21682",
      "range": {
        "startLine": 28,
        "startChar": 70,
        "endLine": 30,
        "endChar": 27
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d362736_26e11699",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "This probably should go in the alternatives section.  Which you seem to have omitted.\n\nPlease follow:\nhttps://github.com/openbmc/docs/blob/master/designs/design-template.md\n\nWhen writing your docs.",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 33,
        "endChar": 77
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2b988cc_96dc95a6",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "Thanks. Did not see that URL, originally.",
      "parentUuid": "2d362736_26e11699",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 33,
        "endChar": 77
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "29329eb9_4195c595",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "This kind of \"history\" isn\u0027t really needed, and is tracked in gerrit and git.  Unless we\u0027re pointing out an alternative that doesn\u0027t work, in which case it should go in the alternatives or background sections.",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 55,
        "endChar": 11
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8dcaae87_b81c32e8",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "True, it\u0027s in gerrit and git, but this paragraph tells the interested reader where to look (which they would have a difficult time finding otherwise). It does include earlier alternatives that didn\u0027t meet the design goals of ExternalSensor, namely, HostSensor and HwmonTempSensor.",
      "parentUuid": "29329eb9_4195c595",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 55,
        "endChar": 11
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "734a814f_0253ece9",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "nit.  Remove.  The point is not to keep the main loop busy, the point is the second half of that sentence.",
      "range": {
        "startLine": 72,
        "startChar": 20,
        "endLine": 72,
        "endChar": 59
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da58f118_5fedbf00",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "Agreed, will remove it. As for why I wrote that text originally, the main loop used to be completely idle, in the first draft of ExternalSensor which did not have the timeout feature yet, so this sentence attempted to draw contrast with that earlier design revision.",
      "parentUuid": "734a814f_0253ece9",
      "range": {
        "startLine": 72,
        "startChar": 20,
        "endLine": 72,
        "endChar": 59
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71f4d7d8_19cb65f6",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "This isn\u0027t really for this design to decide, and should really be left documented in phosphor-dbus-interfaces, where we\u0027ve already done that.  You might just mention that NAN is used when there\u0027s been a timeout.",
      "range": {
        "startLine": 83,
        "startChar": 0,
        "endLine": 95,
        "endChar": 53
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0214cbb6_0c42f6f7",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "Actually, the usage of NaN is one of the key features of ExternalSensor, which this design document attempts to explain. It\u0027s important to point it out here, I feel. This paragraph provides good rationale for various design decisions made.",
      "parentUuid": "71f4d7d8_19cb65f6",
      "range": {
        "startLine": 83,
        "startChar": 0,
        "endLine": 95,
        "endChar": 53
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be5924dd_905414f6",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "Nit, technically this is a mandatory component of the EM config.",
      "range": {
        "startLine": 119,
        "startChar": 31,
        "endLine": 119,
        "endChar": 49
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "179d8ee8_8fbbdd1f",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 119,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "True, and that\u0027s mentioned in the paragraph just above. Added extra wording, to make it clear.",
      "parentUuid": "be5924dd_905414f6",
      "range": {
        "startLine": 119,
        "startChar": 31,
        "endLine": 119,
        "endChar": 49
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bbd54c54_4c84c8d0",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 121,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "Remove.  Technically these are all \"new parameters\" as they\u0027re within the scope of the ExternalSensor type.",
      "range": {
        "startLine": 121,
        "startChar": 21,
        "endLine": 121,
        "endChar": 44
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f1b6349_ef795e62",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 121,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "I meant to say \"new\" as in \"not seen in the dbus-sensors or entity-manager packages until now, so pay attention\". I reworded it to say merely that the parameter is unique to ExternalSensor.",
      "parentUuid": "bbd54c54_4c84c8d0",
      "range": {
        "startLine": 121,
        "startChar": 21,
        "endLine": 121,
        "endChar": 44
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d130bb30_0d1cdb26",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 125,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "Nit.  Might make less detailed.  \"This corresponds to the Units parameter that the sensor represents\".",
      "range": {
        "startLine": 123,
        "startChar": 56,
        "endLine": 125,
        "endChar": 49
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25cb3b95_be78ec5c",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 125,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "It is a confusing thing, so I wanted to explain it clearly. It is mapping a string to another string, in a lookup table. I still somewhat disagree with why this is done, as to me, it is only adding a layer of obfuscation, as D-Bus directory paths are already something that\u0027s visible in the interface, so why not just let the user configure the directory path directly, instead of running it through the mapping table? Maybe validate it to only an allowlist of names, if desired. I still think it would be easier for the user to just have the ability to specify a directory path component directly, like \"temperature\", instead of having to mentally translate it to \"DegreesC\" in their head when writing the configuration file.",
      "parentUuid": "d130bb30_0d1cdb26",
      "range": {
        "startLine": 123,
        "startChar": 56,
        "endLine": 125,
        "endChar": 49
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "95c8d169_291a622f",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 128,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "Nit.  external sensor should be using it to clamp out of range values from being set.",
      "range": {
        "startLine": 127,
        "startChar": 66,
        "endLine": 128,
        "endChar": 37
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fd72b64_026f7342",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 128,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "Maybe, although I want to provide \"mechanism not policy\" in ExternalSensor, so I don\u0027t want to have it enforce these bounds. If the external data source writes a value that is out of range, that should shine through, so that it can be seen. Also, the IPMI and Redfish daemons might want to be aware that an out-of-range value was written, so they can flip threshold bits or whatever, in their respective protocols. If we silently clamped the value here, we would be hiding knowledge from them, which would not be good.",
      "parentUuid": "95c8d169_291a622f",
      "range": {
        "startLine": 127,
        "startChar": 66,
        "endLine": 128,
        "endChar": 37
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9959db5_512eb64b",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 151,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "nit.  Remove the word \"another\"\n\nAlso, please include what keys this dictionary supports.",
      "range": {
        "startLine": 151,
        "startChar": 18,
        "endLine": 151,
        "endChar": 42
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f8982d3_c64310a5",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 151,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "Removed \"Another\". However, as for including what keys Thresholds supports, that\u0027s beyond the scope of ExternalSensor. It would be scope creep to add it to this document, which is already rather long as it is. Perhaps another doc should be written, to document generic Sensor parameters such as PowerState and Thresholds.",
      "parentUuid": "d9959db5_512eb64b",
      "range": {
        "startLine": 151,
        "startChar": 18,
        "endLine": 151,
        "endChar": 42
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c5c6a551_5e100710",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 156,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "?  This seems like an incorrect statement.",
      "range": {
        "startLine": 155,
        "startChar": 50,
        "endLine": 156,
        "endChar": 17
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7847bbb3_07ca8b04",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 156,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "Reworded. I meant to say that it is a pass-through parameter, and ExternalSensor doesn\u0027t care about it, other than to pass it through correctly to the underlying Sensor class.",
      "parentUuid": "c5c6a551_5e100710",
      "range": {
        "startLine": 155,
        "startChar": 50,
        "endLine": 156,
        "endChar": 17
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10bcddae_4b283401",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 178,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "Not needed for a design doc.  This design doc will outlive any development, so including the history in it is unnecessary.",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 178,
        "endChar": 58
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07a4415f_e462b55a",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 178,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "I think it provides good useful background information and rationale.",
      "parentUuid": "10bcddae_4b283401",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 178,
        "endChar": 58
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b937e06_c49b272b",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 202,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-15T16:22:47Z",
      "side": 1,
      "message": "This can be almost entirely removed.  These are details for the commit itself.",
      "range": {
        "startLine": 193,
        "startChar": 0,
        "endLine": 202,
        "endChar": 0
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81a2cbdd_6c2362c9",
        "filename": "designs/external-sensor.md",
        "patchSetId": 3
      },
      "lineNbr": 202,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2021-05-11T20:42:44Z",
      "side": 1,
      "message": "I disagree, as this provides good background information as to rationale for what was done. However, I reworded it slightly.",
      "parentUuid": "4b937e06_c49b272b",
      "range": {
        "startLine": 193,
        "startChar": 0,
        "endLine": 202,
        "endChar": 0
      },
      "revId": "239dbbd06fa47c5c2d049fda51a44137b96a268f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}