{
  "comments": [
    {
      "key": {
        "uuid": "f0a27ab8_dbae74d1",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-07-08T14:51:27Z",
      "side": 1,
      "message": "In most cases, I think we\u0027re expecting email address and Discord users here.",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 9,
        "endChar": 39
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4c6e4ae_49892e35",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 1001121
      },
      "writtenOn": "2021-07-08T23:01:46Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "f0a27ab8_dbae74d1",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 9,
        "endChar": 39
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6463422_962e3491",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-07-08T14:50:06Z",
      "side": 1,
      "message": "I don\u0027t think internal experimentation should be documented here.  Why isn\u0027t this work being done in the open?",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 35,
        "endChar": 20
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e930876f_b70ffef3",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1001121
      },
      "writtenOn": "2021-07-08T23:01:46Z",
      "side": 1,
      "message": "The efforts were just experimental and we were just trying it out to see if io_uring was viable. @wak might also have more info about this.",
      "parentUuid": "c6463422_962e3491",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 35,
        "endChar": 20
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "32a6f2fd_0c208160",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-07-08T14:50:06Z",
      "side": 1,
      "message": "There are two additional io_uring efforts going on that I\u0027m aware of.\n\n1. wak was adding io_uring support to sdeventplus, right?  How does that fit into this effort?  Shouldn\u0027t we mention it here?\n\n2. As part of introducing coroutines to sdbusplus, I\u0027ve been experimenting with libunifex.  Parts of libunifex are likely to be merged into std in C++23.  libunifex also has support for io_uring on Linux.\n\nHopefully this effort you are proposing will not be interacting with io_uring directly...",
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e06590e3_b8b49909",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1001121
      },
      "writtenOn": "2021-07-08T23:01:46Z",
      "side": 1,
      "message": "@wak did indeed add support for sdeventplus, which we can hopefully use here. io_uring will not be used here directly.",
      "parentUuid": "32a6f2fd_0c208160",
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5b49cbcb_64ea1f9a",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-07-08T14:50:06Z",
      "side": 1,
      "message": "What compatibility reasons would there be for using the slower implementation?  Can we elaborate on that?  None are obvious to me, so I don\u0027t know why we\u0027d continue to support both methods.",
      "range": {
        "startLine": 114,
        "startChar": 0,
        "endLine": 116,
        "endChar": 50
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff0eadd0_b7e96e89",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1001121
      },
      "writtenOn": "2021-07-08T23:01:46Z",
      "side": 1,
      "message": "io_uring had non-trivial bugs until 5.4, and the library is currently in a much better state with the recent release of 5.10 Linux kernel. We believe older kernel versions would do better without using io_uring.",
      "parentUuid": "5b49cbcb_64ea1f9a",
      "range": {
        "startLine": 114,
        "startChar": 0,
        "endLine": 116,
        "endChar": 50
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70be700e_145bf2e8",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-07-08T14:50:06Z",
      "side": 1,
      "message": "How?",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 132,
        "endChar": 49
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "256421dc_8d34b1c9",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1001121
      },
      "writtenOn": "2021-07-08T23:01:46Z",
      "side": 1,
      "message": "This project would impact users of openbmc/phosphor-hwmon initially, at least. The hope is that we can do this systematically to be able to apply this approach to the other daemon.",
      "parentUuid": "70be700e_145bf2e8",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 132,
        "endChar": 49
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f06dc0fd_ee2dd96b",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 133,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-07-08T14:50:06Z",
      "side": 1,
      "message": "We should be careful about the word \u0027performance\u0027 here.  It is quite likely that this change will slow down throughput while improving latency.  Latency improvement is what we\u0027re after in this case.",
      "range": {
        "startLine": 133,
        "startChar": 0,
        "endLine": 133,
        "endChar": 11
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4106872_057f6cdf",
        "filename": "designs/phosphor-hwmon-io-uring.md",
        "patchSetId": 4
      },
      "lineNbr": 133,
      "author": {
        "id": 1001121
      },
      "writtenOn": "2021-07-08T23:01:46Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "f06dc0fd_ee2dd96b",
      "range": {
        "startLine": 133,
        "startChar": 0,
        "endLine": 133,
        "endChar": 11
      },
      "revId": "062a58374c259cf601f5a2bb5fd3bbac637dcbe3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}