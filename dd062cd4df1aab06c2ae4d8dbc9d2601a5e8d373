{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c711037a_7c88f9ce",
        "filename": "designs/inventory/gpio-based-hardware-inventory.md",
        "patchSetId": 3
      },
      "lineNbr": 97,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-08-29T14:16:54Z",
      "side": 1,
      "message": "So EM will hold all of the inventory interfaces, including Inventory.Item that holds Present?\n\nAnd is the JSON on line 126 a standalone file?  If so, if you were to check that into the repo, wouldn\u0027t every single system then start putting those ifaces on D-bus?\n\nOr is that snippet an Exposes element inside another file? Could you specify that\u0027s the case if so?\n\nAfter that is cleared up, I\u0027m sure I\u0027ll have more questions",
      "revId": "dd062cd4df1aab06c2ae4d8dbc9d2601a5e8d373",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7f1fa72_0bd348df",
        "filename": "designs/inventory/gpio-based-hardware-inventory.md",
        "patchSetId": 3
      },
      "lineNbr": 97,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2024-08-29T14:31:07Z",
      "side": 1,
      "message": "Yes, all of the interfaces. Since no other software will be taking responsibility for these items (other than presence daemon detecting it),\nthe EM can expose the required inventory interfaces.\n\nNoted that the given json is just a configuration fragment, not a complete config.\n\nThanks for your review. Happy to discuss further concerns/ideas.",
      "parentUuid": "c711037a_7c88f9ce",
      "revId": "dd062cd4df1aab06c2ae4d8dbc9d2601a5e8d373",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87d7632c_e3020fcd",
        "filename": "designs/inventory/gpio-based-hardware-inventory.md",
        "patchSetId": 3
      },
      "lineNbr": 99,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-08-29T15:00:31Z",
      "side": 1,
      "message": "Currently EM properties are all read only except for the few that are in the allow list, which are then also persisted when written.  So Present would just have to be added to that.",
      "revId": "dd062cd4df1aab06c2ae4d8dbc9d2601a5e8d373",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a37e050_14a4cc81",
        "filename": "designs/inventory/gpio-based-hardware-inventory.md",
        "patchSetId": 3
      },
      "lineNbr": 100,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-08-29T14:16:54Z",
      "side": 1,
      "message": "EM made a semi-attempt at adding the inventory.item iface today, but it never called initialize(), and also it didn\u0027t put on the PrettyName and Present properties that are required.  In the existing code, Present would always be true because it\u0027s being created after the probe matched.  I\u0027m not sure then how this new interaction would work?",
      "revId": "dd062cd4df1aab06c2ae4d8dbc9d2601a5e8d373",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26abddba_dbe31d7d",
        "filename": "designs/inventory/gpio-based-hardware-inventory.md",
        "patchSetId": 3
      },
      "lineNbr": 100,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2024-08-29T14:31:07Z",
      "side": 1,
      "message": "\u003e EM made a semi-attempt at adding the inventory.item iface today\n\ndoes it \u0027make\u0027 an attempt currently? Or are you talking about a patch that got merged today?\n\nThe new interaction is to answer the requirement for hardware inventory where the hardware is detected via gpio.\n\nIt may be special/proprietary hardware and there may not be a special daemon to handle it. Since it is not worth all that effort to make a special daemon and it is not needed for some components. But we still want the inventory and presence.\n\nSo the idea is for EM and some presence daemon to work together to accomplish what is currently being accomplished with phosphor-inventory-manager and a presence daemon.\n\nEM will be better for that use case since it can be dynamic. phosphor-inventory-manager only supports the static configuration.",
      "parentUuid": "1a37e050_14a4cc81",
      "revId": "dd062cd4df1aab06c2ae4d8dbc9d2601a5e8d373",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97271060_9c126e0b",
        "filename": "designs/inventory/gpio-based-hardware-inventory.md",
        "patchSetId": 3
      },
      "lineNbr": 100,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-08-29T15:00:31Z",
      "side": 1,
      "message": "Right here https://github.com/openbmc/entity-manager/blob/master/src/entity_manager.cpp#L623 is what I was referring to.  So as it is now, nothing in EM holds a Present property.  Though I think that isn\u0027t really that relevant to what you have here after all.  It\u0027s easy enough to fix, I just didn\u0027t quite have the motivation to do it since nothing seems to be broken.\n\n\u003e EM will be better for that use case since it can be dynamic\n\nYep, makes sense. It would also be easy to add associations between say the items and their parent FRU if necessary for Redfish.",
      "parentUuid": "26abddba_dbe31d7d",
      "revId": "dd062cd4df1aab06c2ae4d8dbc9d2601a5e8d373",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87ea0e03_244012d6",
        "filename": "designs/inventory/gpio-based-hardware-inventory.md",
        "patchSetId": 3
      },
      "lineNbr": 126,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-08-29T15:00:31Z",
      "side": 1,
      "message": "could you add the \"Exposes\" [ ] around this just so it\u0027s clear?\n\nAnd then would it work like:\n\n```\nchassis.json\n{\n  Exposes:\n  [ \n     {\n         Name:  cable0\n         ...\n     }\n  ]\n   ...\n   Name:  Chassis\n }\n```\n  \n  would have EM make the objects:\n  \n```\n  inventory/system/chassis/Chassis\n  inventory/system/cables/cable0  ?\n       Present:  true/false\n```",
      "revId": "dd062cd4df1aab06c2ae4d8dbc9d2601a5e8d373",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}