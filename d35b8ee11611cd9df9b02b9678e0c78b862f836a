{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "42286a6c_5cc8c1b7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001330
      },
      "writtenOn": "2022-01-25T05:35:18Z",
      "side": 1,
      "message": "Thank you for your review Andrew and Matt. I have uploaded a new patchset to address your comments. This should provide a more details context of the proposal with examples. \n\nRequesting a review. This was a bigger change but I will be more engaging on reviews going forth. ",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc7dd7db_f823e8e7",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2022-01-26T16:46:39Z",
      "side": 1,
      "message": "What if the persistent location was just deduced from the namespace name?\n\nlike namespace gpu0 would always be stored in /var/lib/phosphor-logging/errors/gpu0?",
      "range": {
        "startLine": 122,
        "startChar": 7,
        "endLine": 122,
        "endChar": 66
      },
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc350264_04016457",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 1001330
      },
      "writtenOn": "2022-01-26T18:27:50Z",
      "side": 1,
      "message": "Yes that can be done too. Giving this to the user gives a flexibility?",
      "parentUuid": "cc7dd7db_f823e8e7",
      "range": {
        "startLine": 122,
        "startChar": 7,
        "endLine": 122,
        "endChar": 66
      },
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86185b2e_6f6a8cac",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2022-02-03T00:03:56Z",
      "side": 1,
      "message": "What use case do you have for not going with Matt\u0027s suggestion? If you don\u0027t already have one then I\u0027d prefer we don\u0027t have this flexibility. Conversely, if you do have one, please describe the use-case in the proposal text.",
      "parentUuid": "fc350264_04016457",
      "range": {
        "startLine": 122,
        "startChar": 7,
        "endLine": 122,
        "endChar": 66
      },
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8013051c_9b0a5a4a",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 1001330
      },
      "writtenOn": "2022-02-03T01:51:52Z",
      "side": 1,
      "message": "I meant flexibility in terms of locations which can help users decide to log their errors in different location (also under different partitions if need be..)\n\nE.g. We can have some logs go under location A (which is mounted to /dev/mtdblockX) while other logs go under location B (other partitions..)",
      "parentUuid": "86185b2e_6f6a8cac",
      "range": {
        "startLine": 122,
        "startChar": 7,
        "endLine": 122,
        "endChar": 66
      },
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e56378c6_45ee8a2b",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2022-02-03T01:54:46Z",
      "side": 1,
      "message": "Do you have a concrete use-case for that? As in \"my existing platform XYZ needs to ...\" ?",
      "parentUuid": "8013051c_9b0a5a4a",
      "range": {
        "startLine": 122,
        "startChar": 7,
        "endLine": 122,
        "endChar": 66
      },
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43ce497e_31c013c6",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 178,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2022-01-26T16:46:39Z",
      "side": 1,
      "message": "I don\u0027t see how a namespaced event log would be created still?",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06f56dd5_36e192c6",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 178,
      "author": {
        "id": 1001330
      },
      "writtenOn": "2022-01-26T18:27:50Z",
      "side": 1,
      "message": "Matt, would the para from 138 to 167 above answer your question? The namespace event logs created in the para are `/xyz/openbmc_project/logging/gpu0/entry/1` which would at location `/var/lib/phosphor-logging/errors/gpu0`. \n\nCode wise, we are essentially creating new D-Bus paths (e.g. `/xyz/openbmc_project/logging/gpu0/entry/1`) per namespace, a new internal manager instance per namespace will take care of creating the log on the persistent file system and create a corresponding D-Bus object. \n\nDoes this help answer the question?",
      "parentUuid": "43ce497e_31c013c6",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7939037d_e009d233",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 178,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2022-01-26T18:51:26Z",
      "side": 1,
      "message": "Thanks.  Maybe you could the wording that states that logs will be created by calling the Commit or CommitWithLvl interfaces on the instances of the xyz.openbmc_project.Logging.Internal.Manager interfaces in the namespaces.\n\nDo you plan on calling those methods directly, or build them into the commit\u003c\u003e() and report\u003c\u003e() libphosphor_logging functions somehow?",
      "parentUuid": "06f56dd5_36e192c6",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1961b11f_65efd4a2",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 178,
      "author": {
        "id": 1001330
      },
      "writtenOn": "2022-01-31T21:53:34Z",
      "side": 1,
      "message": "Sure I can add it to the document. The plan is to build them into `commit` and `report` directly. Thanks for the feedback. \n\nWe can resolve this thread once the wording is added. Would you have more feedback for the document? Can I make all the changes together?",
      "parentUuid": "7939037d_e009d233",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abae9375_8edc752d",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 178,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2022-01-31T22:44:53Z",
      "side": 1,
      "message": "I would say you could go ahead and make the updates.",
      "parentUuid": "1961b11f_65efd4a2",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36750a1c_a8095db8",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 224,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2022-02-01T19:17:54Z",
      "side": 1,
      "message": "The DeletePolicy value could just be the \"namespace\" and be an empty string as the default to mean \"all\". In that way it\u0027s simpler to define the property value to be either the name of the namespace you want to delete, or clear the property if you want all deleted, instead of having to parse the text \"all\".",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c30061f6_74d6a850",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 224,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2022-02-03T00:03:56Z",
      "side": 1,
      "message": "I\u0027d prefer we don\u0027t attach implicit behaviour to empty strings, that seems like something that\u0027s really hard to follow in the code.",
      "parentUuid": "36750a1c_a8095db8",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0e1b719_61ce3d30",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 224,
      "author": {
        "id": 1001330
      },
      "writtenOn": "2022-02-03T01:51:52Z",
      "side": 1,
      "message": "It could be either. Having explicit policy helps because it states the behavior clearly, or could also just be a purely boolean property for, \n1. Value 0 (False) -\u003e Default Behavior [Delete all D-Bus Object for all namespaces beneath root object] \n2. Value 1 (True ) -\u003e Delete Namespace only [Delete only D-Bus objects under the specific namespace]",
      "parentUuid": "c30061f6_74d6a850",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3dca4f8d_841caf30",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 256,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2022-02-01T19:17:54Z",
      "side": 1,
      "message": "Could you expand on how implementing via an extension would be? Seems that with this proposal, multiple copies of the log are also made (in the base /var/ dir plus the new /var/ namespace dir, and also the dbus objects are also duplicated, the base paths still exist plus the new namespace ones. So just trying to understand the statement that a log extension would create multiple copies of the log.",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3232723a_f2833e41",
        "filename": "designs/phosphor-logging-namespaces.md",
        "patchSetId": 3
      },
      "lineNbr": 256,
      "author": {
        "id": 1001330
      },
      "writtenOn": "2022-02-03T01:51:52Z",
      "side": 1,
      "message": "This proposal wouldn\u0027t make multiple copies of the log or the D-Bus objects.\n\nThe logs per namespace would be made under one location only. \nE.g. For CPU0 namespace the log is under /var/lib/phosphor-logging/errors/cpu0/ and the D-Bus Object created is under /xyz/openbmc_project/Logging/cpu0/1 etc. \n\nIn comparison using event log extension makes duplicate copies of the logs. \n\nLooks like I should address with a more concrete example, would that help address this comment?",
      "parentUuid": "3dca4f8d_841caf30",
      "revId": "d35b8ee11611cd9df9b02b9678e0c78b862f836a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}