{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a555745f_ddf601a7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "Overall I do not have concerns with this direction.",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1da50eac_9df7f340",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "I\u0027d like to see a resolution to this part before we merge it.",
      "range": {
        "startLine": 5,
        "startChar": 0,
        "endLine": 9,
        "endChar": 63
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1aede2c5_01c672c2",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-13T09:48:28Z",
      "side": 1,
      "message": "Wrote a small list",
      "parentUuid": "1da50eac_9df7f340",
      "range": {
        "startLine": 5,
        "startChar": 0,
        "endLine": 9,
        "endChar": 63
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54bd09d9_8166a286",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "nit: like",
      "range": {
        "startLine": 20,
        "startChar": 66,
        "endLine": 20,
        "endChar": 69
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "27f55bc2_075fa4c9",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-13T09:48:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "54bd09d9_8166a286",
      "range": {
        "startLine": 20,
        "startChar": 66,
        "endLine": 20,
        "endChar": 69
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd29ca59_5e6326c0",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 39,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "Not clear how this is relevant.",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 31
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c11edc8a_58ae344f",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 39,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-12T00:23:26Z",
      "side": 1,
      "message": "It provides additional context since DBus does not exist in a vacuum.",
      "parentUuid": "dd29ca59_5e6326c0",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 31
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b51ad42_7d7b8c68",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 39,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-12T00:53:04Z",
      "side": 1,
      "message": "Ok?  We don’t use varlink, you didn’t mention varlink, and I don’t know how it is related.  Should we randomly sprinkle around links to Thrift too?\n\nIf it has context, add context. I don’t have any idea what it is right now.",
      "parentUuid": "c11edc8a_58ae344f",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 31
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed6551de_9856ba9b",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 39,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-13T09:48:28Z",
      "side": 1,
      "message": "In the new revision there is a mention of varlink in alternative 2 (single property containing json blob).\n\nVarlink seems to be fine with using json and apparently the parsing overhead is not a big issue for them. So it helps to link varlink for considering that alternative.",
      "parentUuid": "6b51ad42_7d7b8c68",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 31
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b6fba2f_24296aa3",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 46,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "nit: let\u0027s clean this up.",
      "range": {
        "startLine": 46,
        "startChar": 44,
        "endLine": 46,
        "endChar": 78
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ffab2e3a_8130ec16",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 46,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-13T09:48:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8b6fba2f_24296aa3",
      "range": {
        "startLine": 46,
        "startChar": 44,
        "endLine": 46,
        "endChar": 78
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3fcd0d4_4241f5b8",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 182,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "You might refer to the GetManagedObjects function still returning the same set of information, but potentially at different paths.",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0d2c8a5a_4a4bcdfe",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 182,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-13T09:48:28Z",
      "side": 1,
      "message": "Mentioned that function.",
      "parentUuid": "b3fcd0d4_4241f5b8",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49c573c1_89bfa5d9",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 411,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "Does this also require sdbusplus changes to support the `types` field?",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd9fb54e_9dceefd3",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 411,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-12T00:23:26Z",
      "side": 1,
      "message": "I\u0027m not following, can you please explain further.",
      "parentUuid": "49c573c1_89bfa5d9",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d92cead_f0d917d5",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 411,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-12T00:53:04Z",
      "side": 1,
      "message": "See line 334.  You defined something in the YAML that doesn’t exist.",
      "parentUuid": "bd9fb54e_9dceefd3",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f4bdbc24_028b2764",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 411,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-13T09:48:28Z",
      "side": 1,
      "message": "Thanks, yeah no idea how that got in there. I reworded it in terms of current\nPDI yaml notation and used \u0027description\u0027 field to note the purpose of the nested types.",
      "parentUuid": "5d92cead_f0d917d5",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b021691f_197b8423",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 585,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "It\u0027s hard to identify the difference between these two options.  I don\u0027t know if there is something you can do in the \"Result\" that will make it more explicit.\n\nIt looks like the main difference is the \"SPIFlash\" + \"FirmwareInfo\" were a single configuration in the previous example, but it isn\u0027t obviously clear to me why.  I guess because \"FirmwareInfo\" is a structured JSON rather than a simple property?",
      "range": {
        "startLine": 585,
        "startChar": 0,
        "endLine": 585,
        "endChar": 72
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dbc5dd7f_949cfa56",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 585,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-12T00:23:26Z",
      "side": 1,
      "message": "Yes, currently EM makes a difference between\n\n- property which is primitive or array of primitive\n- property which is object\n- property which is array of object\n\nand expose them as \n\n- property\n- nested intf\n- nested intf with index appended\n\nThe difference in the alternatives is that `fully nested object paths`\ndesign takes the logical route to represent object properties\nunder a separate object path, which `nested object paths` design\ndoes not.\n\nThe relevance is that PDI can already support nested interfaces like \n`xyz.openbmc_project.SPIFlash.FirmwareInfo` so changing that would not be necessary for PDI support.",
      "parentUuid": "b021691f_197b8423",
      "range": {
        "startLine": 585,
        "startChar": 0,
        "endLine": 585,
        "endChar": 72
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c59341c4_9c37d973",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 585,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-13T09:48:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dbc5dd7f_949cfa56",
      "range": {
        "startLine": 585,
        "startChar": 0,
        "endLine": 585,
        "endChar": 72
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7aa218b7_03bd1f55",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 688,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "Is this a one-time?  Or will this be used regularly to keep them in sync?  Is there a path to eventually use PDI as the source-of-truth?  This in some regards creates a cycle, so we can\u0027t do it at build-time.",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45d93fc7_5e4d1970",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 688,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-12T00:23:26Z",
      "side": 1,
      "message": "PDI would be the source of truth for clients of the configuration interfaces.\n\nOne-time script can be used to create the large amount of PDI yaml for the existing interfaces. But it only works for interfaces which do not have the \u0027optional\u0027 properties and still requires manually entering the DBus types as EM schema does not know them.\n\nPDI cannot yet be the source of truth on EM side since EM still exposes \u0027optional\u0027 properties which is a behavior some clients may rely on in their implementation.\n\nSo it might be problematic to go a route where we expose some config interfaces with a different code than others. \n\nI would like for those 2 problems to be tackled separately so i did not go into the problem of \u0027optional\u0027 properties in this design.",
      "parentUuid": "7aa218b7_03bd1f55",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4db74109_9dbb9096",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 688,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-12T00:53:04Z",
      "side": 1,
      "message": "I don’t have concerns about your response but I think this warrants additional words in the doc.  If this is a one-time-use, it could be ran locally or done by hand, so the implication to me of “write a script” implies there is some process change you’re looking for that isn’t documented.",
      "parentUuid": "45d93fc7_5e4d1970",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8172d22_5421bc50",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 688,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-13T09:48:28Z",
      "side": 1,
      "message": "Sure, added some words there to make it clear that it\u0027s a one-time thing and not a process change.",
      "parentUuid": "4db74109_9dbb9096",
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5755bf3_4967eb35",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 717,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-09T21:37:10Z",
      "side": 1,
      "message": "Why or why not?  Shouldn\u0027t the use of compile-time validation of our dbus interfaces be a good goal?",
      "range": {
        "startLine": 716,
        "startChar": 0,
        "endLine": 717,
        "endChar": 12
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bb96b87_ce55af8e",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 717,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-12T00:23:26Z",
      "side": 1,
      "message": "Maintainers will have to make their own decision if they want to use it,\nbut we will require some amount of help to enable this possibility.\n\n#### hesitation of rewrites of working code\n\nSome folks may just not want to go through the effort of migrating their code to use PDI, or may not see the value in reviewing those changes to code that\u0027s already working and tested.\n\n#### minimizing scope of design to secure approvals\n\nI need votes on this design from a number of maintainers so i am carefully choosing the scope to provide a very specific solution with a minimum amount of work. \n\nThis is why i went (based on feedback) from the initial approach of multiple object paths to a design where we only change what\u0027s the most problematic thing (the interfaces with index suffix).\n\n#### amount of changes will be large for even this simple change\n\nThe changes that will need reviewing in e.g. `dbus-sensors` are to change for example the thresholds parsing to be done as per the design.\n\nThe thresholds alone are already a *large* amount of code on clients side and bmcweb side.\n\nIt may be quite some time before we can flip the switch in EM to stop exposing index-suffixed interfaces.\n\n#### respecting the time available for community reviews\n\nWith this design we are already asking a lot by requesting review for the required changes.\n\nReviewing refactors of clients to use PDI is putting too much on maintainers who are already struggling to find time for other reviews, so we can leave that out of this design.",
      "parentUuid": "b5755bf3_4967eb35",
      "range": {
        "startLine": 716,
        "startChar": 0,
        "endLine": 717,
        "endChar": 12
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1666b8cd_620d1f1e",
        "filename": "designs/configuration/pdi-compatible-config-interfaces.md",
        "patchSetId": 5
      },
      "lineNbr": 717,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-10-13T09:48:28Z",
      "side": 1,
      "message": "Added the reasoning for limiting the scope of the changes to be done.",
      "parentUuid": "5bb96b87_ce55af8e",
      "range": {
        "startLine": 716,
        "startChar": 0,
        "endLine": 717,
        "endChar": 12
      },
      "revId": "75d45aac3cd37a38287ceebb622d02f84c68b6a3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}