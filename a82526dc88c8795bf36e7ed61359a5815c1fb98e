{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6764f359_eba27772",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-10-11T07:21:38Z",
      "side": 1,
      "message": "While it doesn\u0027t seem to be spelled out explicitly here as far as I can see, I assume the idea here is that the one-shot service would exit after performing the GPIO initialization described by the config file?\n\nIf so, that doesn\u0027t sound like a great fit with the \"modern\" (non-legacy) kernel GPIO interface, under which I believe GPIO state is undefined after the process exits (or the relevant file descriptors are closed).  Depending on implementation details of the underlying components (kernel/drivers, hardware), whatever initialization had been performed might just be immediately reverted.\n\n(And alternately, if the process sticks around to maintain the specified GPIO state I think that would prevent anything else from being able to access those GPIOs, which also probably isn\u0027t what we\u0027d want -- if you just want GPIOs tied statically, a device-tree gpio-hog could achieve that.)",
      "revId": "a82526dc88c8795bf36e7ed61359a5815c1fb98e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b15d8872_937b32a4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-10-12T15:00:23Z",
      "side": 1,
      "message": "It appears that you\u0027ve deleted significant portions of the design document template.  Please don\u0027t do that.\n\nWhat are the repositories you\u0027re expecting to be affected by this feature?  Or are you requesting a new repository?",
      "revId": "a82526dc88c8795bf36e7ed61359a5815c1fb98e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d81b2ba_ddf9b7eb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-10-13T09:01:12Z",
      "side": 1,
      "message": "While it doesn\u0027t seem to be spelled out explicitly here as far as I can see, I assume the idea here is that the one-shot service would exit after performing the GPIO initialization described by the config file?\n\nReply:\nYes, this is a one-shot service and would exit after performing the GPIO initialization described by the config file.\n\nIf so, that doesn\u0027t sound like a great fit with the \"modern\" (non-legacy) kernel GPIO interface, under which I believe GPIO state is undefined after the process exits (or the relevant file descriptors are closed).  Depending on implementation details of the underlying components (kernel/drivers, hardware), whatever initialization had been performed might just be immediately reverted.\n\n(And alternately, if the process sticks around to maintain the specified GPIO state I think that would prevent anything else from being able to access those GPIOs, which also probably isn\u0027t what we\u0027d want -- if you just want GPIOs tied statically, a device-tree gpio-hog could achieve that.)\n\nReply:\nWe have surveyed device-tree gpio-hog, but after implementing it, the resource would be occupied causing that other clients couldn\u0027t access specific gpio.\nCurrently, we are discussing with upstream. \nHowever, for short-term solution, we provided a service that not only could initialize gpios but also any clients could access all gpios.",
      "parentUuid": "6764f359_eba27772",
      "revId": "a82526dc88c8795bf36e7ed61359a5815c1fb98e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "363b9b87_52a8ae00",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-10-13T09:06:03Z",
      "side": 1,
      "message": "It appears that you\u0027ve deleted significant portions of the design document template.  Please don\u0027t do that.\n\nReply:\nWe will add all the indispensable portions to the design document.\n\nWhat are the repositories you\u0027re expecting to be affected by this feature?  Or are you requesting a new repository?\n\nReply:\nYes, we are requesting a new repository for gpio initialization.",
      "parentUuid": "b15d8872_937b32a4",
      "revId": "a82526dc88c8795bf36e7ed61359a5815c1fb98e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}