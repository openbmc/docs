{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "154090b6_37f730b9",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 4
      },
      "lineNbr": 468,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-17T21:15:50Z",
      "side": 1,
      "message": "This fits more in the design section, which has changed a bit so let me move this down below and update.",
      "revId": "a08be13fec8373a109d0474500b490e3255941af",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1901c550_d8eae501",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 4
      },
      "lineNbr": 476,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-17T21:15:50Z",
      "side": 1,
      "message": "Patricks comment in the last review about having a service monitor for failures got me thinking about the target-fail-monitoring.md design. With a few tweaks, I was able to get it up and running to also monitor for service failures. https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-state-manager/+/51128/ is a series of commits I\u0027ve started to make it all work. I\u0027m going to update this design to utilize that. I\u0027ll also need to update the target-fail-monitoring.md doc.",
      "revId": "a08be13fec8373a109d0474500b490e3255941af",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "875751be_8963cab1",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 4
      },
      "lineNbr": 486,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-02-16T22:43:20Z",
      "side": 1,
      "message": "Do we need an \"error\" for it?\n\nCan we have phosphor-debug-collector install its own service file into the After\u003d of the quiesce.target?",
      "range": {
        "startLine": 484,
        "startChar": 12,
        "endLine": 486,
        "endChar": 0
      },
      "revId": "a08be13fec8373a109d0474500b490e3255941af",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7c06c60_441a7755",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 4
      },
      "lineNbr": 486,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-17T21:15:50Z",
      "side": 1,
      "message": "Let me know if the updates answer this question. The target-monitor was already doing this same thing for systemd targets. Enhancing it to support services is pretty trivial so I\u0027d prefer we just log the generic error with the service that failed in that code.",
      "parentUuid": "875751be_8963cab1",
      "range": {
        "startLine": 484,
        "startChar": 12,
        "endLine": 486,
        "endChar": 0
      },
      "revId": "a08be13fec8373a109d0474500b490e3255941af",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54322201_b1ac67d7",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 4
      },
      "lineNbr": 486,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-05-03T16:43:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f7c06c60_441a7755",
      "range": {
        "startLine": 484,
        "startChar": 12,
        "endLine": 486,
        "endChar": 0
      },
      "revId": "a08be13fec8373a109d0474500b490e3255941af",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e622d891_a2f5d40f",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 4
      },
      "lineNbr": 503,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2022-02-14T04:11:26Z",
      "side": 1,
      "message": "How true is all of this in general?",
      "range": {
        "startLine": 501,
        "startChar": 2,
        "endLine": 503,
        "endChar": 28
      },
      "revId": "a08be13fec8373a109d0474500b490e3255941af",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6acf5fc0_2153e5a0",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 4
      },
      "lineNbr": 503,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-17T21:15:50Z",
      "side": 1,
      "message": "Yeah, true for IBM based servers but maybe not a general rule.",
      "parentUuid": "e622d891_a2f5d40f",
      "range": {
        "startLine": 501,
        "startChar": 2,
        "endLine": 503,
        "endChar": 28
      },
      "revId": "a08be13fec8373a109d0474500b490e3255941af",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}