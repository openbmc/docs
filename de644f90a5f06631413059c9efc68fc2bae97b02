{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "947bff2a_3d187e18",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "Thanks Andrew\u0027s :) \n\nI attempted to convey my perspective on your comments. Please inform me if any part is unclear, and I\u0027ll be glad to refine the statements in the document accordingly.",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94c03adb_37d04313",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "Hi Ramesh - the general gist of my comments is far more detail is required for this document to be useful to the community. Without the detail there is no way to establish whether what your proposing is something other community members can leverage, as there\u0027s no way to establish whether your set of constraints is disjoint from anyone else\u0027s.\n\nYou seem to have your own reasoning happening behind the scenes that\u0027s not yet unpacked in the text - please make sure to provide the details for all the concerns that your proposal rests on.",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1398c9f9_eb29be8a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-30T03:27:40Z",
      "side": 1,
      "message": "Hi Andrew,\n\nThank you for your feedback and detailed comments. I\u0027ll ensure to incorporate all the necessary details into the design document.",
      "parentUuid": "94c03adb_37d04313",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92fcb506_26076f06",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-09-03T03:39:02Z",
      "side": 1,
      "message": "I apologize for not making much progress on the documentation yet, as I\u0027ve been focused on the POC for the design. I\u0027ll add more details and share references in the coming months.",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1dc3a99_93de8f09",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 71,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "What errors are we considering here? And when?",
      "range": {
        "startLine": 69,
        "startChar": 69,
        "endLine": 71,
        "endChar": 43
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb6ac521_c7ea9ea0",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 71,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "There might be a few scenarios where external network or host communication could fail, prompting an attempt to initiate a failover and switch roles.\n\nDoes it helps you? I will rephrase it with some more details.",
      "parentUuid": "c1dc3a99_93de8f09",
      "range": {
        "startLine": 69,
        "startChar": 69,
        "endLine": 71,
        "endChar": 43
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e726f33_1cd2dc98",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 71,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "More details please. Enumerating the list of error conditions under consideration would be helpful.",
      "parentUuid": "fb6ac521_c7ea9ea0",
      "range": {
        "startLine": 69,
        "startChar": 69,
        "endLine": 71,
        "endChar": 43
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2659188_675aaa5e",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 74,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "Can you unpack what is intended by \u0027as needed\u0027?",
      "range": {
        "startLine": 74,
        "startChar": 47,
        "endLine": 74,
        "endChar": 56
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8730f521_e92324f2",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 74,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "I believe I duplicated my statement with \"when necessary\" and \"as needed\"; I\u0027ll rephrase it. Essentially, I aimed to clarify that a full sync should occur only when required.\n\nare you looking for some more details?",
      "parentUuid": "e2659188_675aaa5e",
      "range": {
        "startLine": 74,
        "startChar": 47,
        "endLine": 74,
        "endChar": 56
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80f9af86_e2992973",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 74,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "What are the conditions for when a full sync is required?",
      "parentUuid": "8730f521_e92324f2",
      "range": {
        "startLine": 74,
        "startChar": 47,
        "endLine": 74,
        "endChar": 56
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c70bd6ae_3bc1178b",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 87,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "Can you unpack what you mean by \u0027immediate sync\u0027?",
      "range": {
        "startLine": 87,
        "startChar": 44,
        "endLine": 87,
        "endChar": 58
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16814be2_ac9c6484",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 87,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "Whenever an application operating on the Active BMC updates its data and requires immediate synchronization with the Passive BMC, we can employ the \"immediate sync\" type. I\u0027ll include definitions for these terms in the glossary.",
      "parentUuid": "c70bd6ae_3bc1178b",
      "range": {
        "startLine": 87,
        "startChar": 44,
        "endLine": 87,
        "endChar": 58
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d15481c1_5cd3362c",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 87,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "So you have some slack in the proposal - ultimately you require consistency of state between the active and passive BMCs at the point that the passive BMC transitions to active. However, that\u0027s likely also the most inconvenient point in time to finalise the consistency, mainly because the transitions is presumably occurring because the active BMC has failed in some manner. At that point if there are any inconsistencies, chances are they cannot be resolved. So there\u0027s the happy case, where consistency has been achieved prior to the active BMC failing, but then there are a couple of unhappy cases:\n\n1. The passive BMC configuration is self-consistent but outdated relative to the state of (what was) the active BMC\n2. The passive BMC configuration is not self-consistent, due to a failure of the active BMC during a synchronisation to the passive BMC.\n\nThe second is essentially not possible to recover from automatically without a more drastic action to roll it back in some way that at least makes the configuration self-consistent but outdated (1). A problem I see is that there\u0027s not really discussion of checkpoints/transactions to provide 1 in order to recover from 2. The proposal mostly considers the happy cases.",
      "parentUuid": "16814be2_ac9c6484",
      "range": {
        "startLine": 87,
        "startChar": 44,
        "endLine": 87,
        "endChar": 58
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ace6ed40_b19130ae",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "Here be bugs 😊",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 92,
        "endChar": 76
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50cd8704_21564971",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "Sorry, I could not get your points, could you please elaborate.",
      "parentUuid": "ace6ed40_b19130ae",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 92,
        "endChar": 76
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "931dc281_4e1754db",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 92,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "There\u0027s no discussion of what you\u0027re doing to avoid conflicts or ABA races. You really should unpack what constraints your leaning on to avoid them, if you\u0027re going to claim that they\u0027re not something you will need to deal with.",
      "parentUuid": "50cd8704_21564971",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 92,
        "endChar": 76
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8efb6c1e_3fee81e6",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 112,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "Had some questions on this one too.",
      "range": {
        "startLine": 112,
        "startChar": 12,
        "endLine": 112,
        "endChar": 75
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "07b41287_8a0500e7",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 112,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "Yeah noticed. I would to prefer track this comment in the respective doc.",
      "parentUuid": "8efb6c1e_3fee81e6",
      "range": {
        "startLine": 112,
        "startChar": 12,
        "endLine": 112,
        "endChar": 75
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9be56c8_816e5f2a",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 114,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "How are you handling transaction-style updates where multiple files must be updated together? Is this a problem you are concerned about?",
      "range": {
        "startLine": 114,
        "startChar": 37,
        "endLine": 114,
        "endChar": 58
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f5ea0ed_8307881d",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 114,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "If multiple applications update their data simultaneously, I considered initiating multiple transactions by utilizing inotify and rsync. \n\nHowever, I\u0027m unsure if you\u0027re referring to a scenario where multiple files are updated together for the same process and need to be synchronized in the same order. If this is what you mean, we haven\u0027t encountered such a use case yet. In that case, we could enhance this design to sync in order if necessary by specifying the order details in the configuration.\n\nDifferent thoughts?",
      "parentUuid": "b9be56c8_816e5f2a",
      "range": {
        "startLine": 114,
        "startChar": 37,
        "endLine": 114,
        "endChar": 58
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "710891bb_05359fb3",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 114,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "\u003e However, I\u0027m unsure if you\u0027re referring to a scenario where multiple files are updated together for the same process and need to be synchronized in the same order. If this is what you mean, we haven\u0027t encountered such a use case yet.\n\nWhat use-cases are you considering? You need to enumerate them in this document if you\u0027re going to rely on that argument.\n\nPlease be specific, don\u0027t write in the abstract. Details are important in distributed systems.",
      "parentUuid": "7f5ea0ed_8307881d",
      "range": {
        "startLine": 114,
        "startChar": 37,
        "endLine": 114,
        "endChar": 58
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68f1f282_45f35db3",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 115,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "What happens if a failure occurs half-way through synchronisation? Does the system need to be resilient to this (I would suggest yes)?\n\nTLA+ and TLC would be quite helpful here.",
      "range": {
        "startLine": 115,
        "startChar": 1,
        "endLine": 115,
        "endChar": 54
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03790290_67603d42",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 115,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "\u003e What happens if a failure occurs half-way through synchronisation? Does the system need to be resilient to this (I would suggest yes)?\n\nIf our retry attempts continue to fail, we must disable redundancy as indicated in line 120.\n\nI think rsync stores its data in a temporary file until the transfer is complete, after which it moves it to the original file. Do you see it differently?\n\n\u003e TLA+ and TLC would be quite helpful here. \n\nI\u0027m not familiar with this topic either, but I\u0027m happy to add it. Could you provide more context or details about what you\u0027re referring to?",
      "parentUuid": "68f1f282_45f35db3",
      "range": {
        "startLine": 115,
        "startChar": 1,
        "endLine": 115,
        "endChar": 54
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "338a8da6_fcec74c9",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 115,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "\u003e If our retry attempts continue to fail, we must disable redundancy as indicated in line 120.\n\nWho\u0027s retrying and why? How are they retrying? Worked examples would be helpful (though a TLA+ specification would be better :) )\n\n\u003e \u003e TLA+ and TLC would be quite helpful here. \n\u003e\n\u003e I\u0027m not familiar with this topic either, but I\u0027m happy to add it. Could you provide more context or details about what you\u0027re referring to?\n\nSure. The best way to learn TLA+ that I\u0027ve found is this website:\n\nhttps://www.learntla.com/\n\nA good entry-point to understand how it helps is the [Conceptual Overview](https://www.learntla.com/intro/conceptual-overview.html#chapter-overview)",
      "parentUuid": "03790290_67603d42",
      "range": {
        "startLine": 115,
        "startChar": 1,
        "endLine": 115,
        "endChar": 54
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a5a1a13_f5f87a6a",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "What\u0027s the behaviour if data syncronisation is disabled part-way through a sync?",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 121,
        "endChar": 7
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9e41a9e_8db9b83e",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2024-04-26T20:32:48Z",
      "side": 1,
      "message": "I\u0027d vote we don\u0027t allow redundancy to ever be enabled until a full synch is first done. So in this case, the passive BMC can not be available as a redundant resource until we do a full synch.",
      "parentUuid": "9a5a1a13_f5f87a6a",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 121,
        "endChar": 7
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e452e40_6b31fb69",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "Yes, it\u0027s advisable to perform a full sync and then enable redundancy if a failover is triggered during the sync process and fails due to a reset or reboot of the old Active BMC.\n\nFailover could manifest as either a normal or forced occurrence. During a normal failover, we could allow the ongoing sync to finalize. However, if it\u0027s a forced failover, conducting a full sync becomes imperative.\n\n@Matt, Adding you to share your thoughts as well.",
      "parentUuid": "f9e41a9e_8db9b83e",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 121,
        "endChar": 7
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1778adeb_8c85458e",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2024-04-29T21:31:24Z",
      "side": 1,
      "message": "if a sync were in progress, then then it would corrupt data used by the active bmc.   however, if we require the sync to complete before becoming redundant then the issue is avoided by rejecting the rsync when transitioning to active.",
      "parentUuid": "0e452e40_6b31fb69",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 121,
        "endChar": 7
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1acb8bf_124d9490",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2024-04-26T20:32:48Z",
      "side": 1,
      "message": "The failover will be initiated via the passive BMC, and in some cases the Active BMC will no longer be available. I don\u0027t think we can guarantee a full synch will be available, unless this is more the AFO path (where both BMC\u0027s are in a good state)?",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70bfe46b_378a9fab",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "You\u0027re correct; we can\u0027t ensure that a full sync will succeed in the presence of network issues between BMCs. Let me rephrase that.",
      "parentUuid": "a1acb8bf_124d9490",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "122fb773_f327e089",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 149,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2024-04-26T20:32:48Z",
      "side": 1,
      "message": "I\u0027m hoping in most cases everyone can just use a default of some sort for this.",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "886d8c97_9caff071",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 149,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "I\u0027ve introduced the option for separate RetryAttempts per data point, but we can further refine this feature if necessary.\n\nI\u0027ll modify it to use a common RetryAttempts setting, and I also think incorporating a RetryInterval would be beneficial to prevent immediate retries.",
      "parentUuid": "122fb773_f327e089",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f81f2600_496b1dcf",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 155,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "If you need to sync both ways this suggests that BMCs in each role are updating the files concurrently. How do you deal with conflicts?",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c70a0da_50a080d7",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 155,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "What I\u0027m attempting to explain here is that when an application running on both BMCs updates its data in separate files (e.g., error logs), we label it as \"Bidirectional\" for monitoring purposes.\n\nActually, I need to find some different terms rather than specifying \"Bidirectional\". It confusing I guess :)\n\nAny suggestion?\n\n\u003e How do you deal with conflicts?\n\nWe haven\u0027t encountered any scenarios where the same file is updated on both sides, so this design doesn\u0027t propose a solution for that situation.\n\nI believe rsync lacks support for handling conflicts, so we\u0027ll require a locking mechanism such as DLM (Distributed Lock Manager) or something similar.",
      "parentUuid": "f81f2600_496b1dcf",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52a6f79a_0fa952da",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 155,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "\u003e We haven\u0027t encountered any scenarios where the same file is updated on both sides, so this design doesn\u0027t propose a solution for that situation.\n\nYou must enumerate all scenarios you\u0027re considering otherwise there\u0027s no way for the community to establish whether or not your set of constraints is appropriate for any other member\u0027s own problems. Without that information it\u0027s not a benefit to the community, and you might as well keep this all downstream?",
      "parentUuid": "5c70a0da_50a080d7",
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e71d0827_c35392a3",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 207,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "Can you elaborate on this? What specific problems lead to this conclusion?",
      "range": {
        "startLine": 201,
        "startChar": 0,
        "endLine": 207,
        "endChar": 1
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "780bba65_217a21e6",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 207,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "All OpenBMC application persisted files and directories are stored in /var, which is persisted and has a separate logical volume (/dev/mmcblk0p6 on /var type ext4 (rw,relatime)). However, we only need to sync specific persisted files and directories.\n\nIf we aim to synchronize these chosen persisted files and directories, we must relocate them to a separate logical volume to replicate them through DRBD, as DRBD replicates the entire volume.\n\nPlease let me know if require additional details on this aspect in the design document.",
      "parentUuid": "e71d0827_c35392a3",
      "range": {
        "startLine": 201,
        "startChar": 0,
        "endLine": 207,
        "endChar": 1
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f6a7004_5f58d5dc",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 207,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "\u003e However, we only need to sync specific persisted files and directories.\n\nWhich files? Which directories? Can you please enumerate them?\n\n\u003e we must relocate them to a separate logical volume to replicate them through DRBD\n\nWhy is this not feasible? You can symlink them into the right places?\n\nRegardless, please make sure to elaborate in the document itself, not only in replies to my comments.",
      "parentUuid": "780bba65_217a21e6",
      "range": {
        "startLine": 201,
        "startChar": 0,
        "endLine": 207,
        "endChar": 1
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba0a6084_18ed108d",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 209,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-26T01:39:31Z",
      "side": 1,
      "message": "Can you unpack this? What specific problem did you encounter?",
      "range": {
        "startLine": 208,
        "startChar": 54,
        "endLine": 209,
        "endChar": 46
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b7e59b3_270fd4a5",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 209,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-04-29T08:52:37Z",
      "side": 1,
      "message": "DRBD offers two modes: Single Primary mode, where only one node can access the filesystem at any given time, even for reading; and Dual Primary mode, where both nodes can access the filesystem concurrently. However, for Dual Primary mode, a clustered filesystem like GFS/OCFS is necessary, as it employs DLM (Distributed Lock Manager) for locking. Therefore, we\u0027ll need to use GFS/OCFS filesystem instead of ext4.\n\nPlease let me know if require additional details on this aspect in the design document.",
      "parentUuid": "ba0a6084_18ed108d",
      "range": {
        "startLine": 208,
        "startChar": 54,
        "endLine": 209,
        "endChar": 46
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "774d16d3_f7c3c6e1",
        "filename": "designs/redundant_bmc_data_synchronization.md",
        "patchSetId": 4
      },
      "lineNbr": 209,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2024-04-30T00:36:56Z",
      "side": 1,
      "message": "\u003e Please let me know if require additional details on this aspect in the design document.\n\nYes, I need additional details. Please enumerate what applications violate the constraint you have here (that you can\u0027t simulataneously read on both DRDB volumes) and why this is required.",
      "parentUuid": "5b7e59b3_270fd4a5",
      "range": {
        "startLine": 208,
        "startChar": 54,
        "endLine": 209,
        "endChar": 46
      },
      "revId": "de644f90a5f06631413059c9efc68fc2bae97b02",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}