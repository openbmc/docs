{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d2dceb60_0951cd58",
        "filename": "designs/redfish-authorization.md",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-08-11T17:55:33Z",
      "side": 1,
      "message": "This is new... bmcweb exposing dbus endpoints??  Who is calling them?",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 140,
        "endChar": 76
      },
      "revId": "8e1d5aa91d11c92f1458ddc81f3c5bdfd41498a0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa134c95_d1977125",
        "filename": "designs/redfish-authorization.md",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000682
      },
      "writtenOn": "2022-08-11T18:56:33Z",
      "side": 1,
      "message": "Thanks for your comment. Not entirely new.\n\nIt is very like how BMCWeb gets new root certificate and server certificate today (notified by SIGHUB).\n\nWe want to update the authz config in similar way",
      "parentUuid": "d2dceb60_0951cd58",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 140,
        "endChar": 76
      },
      "revId": "8e1d5aa91d11c92f1458ddc81f3c5bdfd41498a0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bf1b971_c4eabaa6",
        "filename": "designs/redfish-authorization.md",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-08-11T20:00:06Z",
      "side": 1,
      "message": "Isn\u0027t SIGHUP different from exposing dbus objects though?  Who is calling this dbus interface?  You didn\u0027t mention that.\n\nI\u0027m surprised this isn\u0027t a signal from something like phosphor-user-manager.",
      "parentUuid": "aa134c95_d1977125",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 140,
        "endChar": 76
      },
      "revId": "8e1d5aa91d11c92f1458ddc81f3c5bdfd41498a0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9ede659_a44ef673",
        "filename": "designs/redfish-authorization.md",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000682
      },
      "writtenOn": "2022-08-11T20:09:58Z",
      "side": 1,
      "message": "Done. I added some more context about who is calling this dbus interface.\n\n\u003e Isn\u0027t SIGHUP different from exposing dbus objects though?\n\nIt doesn\u0027t need to be dbus method call. It can also be a SIGHUB. Welcome any ideas about how to notify BMCWeb there is a new authz configuration\n\n\u003e I\u0027m surprised this isn\u0027t a signal from something like phosphor-user-manager.\n\nApologize, why do you mention phosphor-user-manager? Are you thinking about something else other than Redfish authz?",
      "parentUuid": "5bf1b971_c4eabaa6",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 140,
        "endChar": 76
      },
      "revId": "8e1d5aa91d11c92f1458ddc81f3c5bdfd41498a0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff56e178_37f93ee6",
        "filename": "designs/redfish-authorization.md",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-08-11T20:14:58Z",
      "side": 1,
      "message": "\u003e Apologize, why do you mention phosphor-user-manager? Are you thinking about something else other than Redfish authz?\n\nWe\u0027re talking about users and permissions, right?  phosphor-user-manager already can take data from LDAP.  I\u0027m not really seeing how this is drastically different from that.  Maybe I don\u0027t understand what \u0027authz\u0027 is.",
      "parentUuid": "c9ede659_a44ef673",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 140,
        "endChar": 76
      },
      "revId": "8e1d5aa91d11c92f1458ddc81f3c5bdfd41498a0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51cb5cff_429cb378",
        "filename": "designs/redfish-authorization.md",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000682
      },
      "writtenOn": "2022-08-11T21:32:02Z",
      "side": 1,
      "message": "This design is talking about Redfish roles, Redfish privileges, and Redfish authorization, not the authentication part or linux permissions (does password/username match, is this username a root on system).",
      "parentUuid": "ff56e178_37f93ee6",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 140,
        "endChar": 76
      },
      "revId": "8e1d5aa91d11c92f1458ddc81f3c5bdfd41498a0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ec45112_4127df03",
        "filename": "designs/redfish-authorization.md",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-08-11T21:37:33Z",
      "side": 1,
      "message": "\u003e This design is talking about Redfish roles, Redfish privileges, and Redfish authorization, not the authentication part or linux permissions (does password/username match, is this username a root on system).\n\n\nNot sure I understand why those are necessarily distinct.  Isn\u0027t the default behavior to provide some mapping between phosphor-user-manager identities and Redfish roles?  We map all the IPMI users as well.  Not understanding why we want to make Redfish \"special\".",
      "parentUuid": "51cb5cff_429cb378",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 140,
        "endChar": 76
      },
      "revId": "8e1d5aa91d11c92f1458ddc81f3c5bdfd41498a0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd42d81c_57f4339a",
        "filename": "designs/redfish-authorization.md",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000682
      },
      "writtenOn": "2022-08-11T21:46:29Z",
      "side": 1,
      "message": "Thanks for the question. That part (mapping linux permissions to Redfish roles) is remaining the same https://github.com/openbmc/bmcweb/blob/3ba0007367777144f474fdf99439ae8c03633486/redfish-core/lib/roles.hpp#L28.\n\nBut you bring up a great topic, how we use these newly added Redfish roles. Yes, I would add new section about that, I plan to use mTLS (common name, or subject alternative name) as the authenticated identity, and make bmcweb expose APIs (or take mappings from the configuration), so that those mTLS identities can be mapped to Redfish roles without involving the linux user stack.",
      "parentUuid": "5ec45112_4127df03",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 140,
        "endChar": 76
      },
      "revId": "8e1d5aa91d11c92f1458ddc81f3c5bdfd41498a0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}