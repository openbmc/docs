{
  "comments": [
    {
      "key": {
        "uuid": "9dae2aab_28e3de57",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "For what it\u0027s worth, this wasn\u0027t the original design, but the effort to instantiate and interface the probe statements was non-trivial, so a number of daemons opted out of it.  Ideally we\u0027d make the barrier to entry lower for that, ideally making the code more consistent, but I dont think anyone has taken that up yet.  If you\u0027re interested, ping me on discord and we can chat about it, or send me some patches.",
      "range": {
        "startLine": 26,
        "startChar": 72,
        "endLine": 27,
        "endChar": 64
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95c684f1_862e9dae",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Sorry, don\u0027t get it clear. Are you trying to say, it was supposed all the inventory should go thought EM and we can try to go there?",
      "parentUuid": "9dae2aab_28e3de57",
      "range": {
        "startLine": 26,
        "startChar": 72,
        "endLine": 27,
        "endChar": 64
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e76f9f9_ee914988",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "PLDM is managing a sub-controller, so it SHOULD have its own inventory tree in the current design, because it\u0027s the one with in-depth access to that inventory information for devices on the other end of that bus.  I think the subtlety that\u0027s being missed here is that EM is designed to manage the resources within the BMC.  That doesn\u0027t mean that it needs to be the ONLY thing managing resources for the system.  There are other sub controllers that need accounted for, and can have complex inventory hierarchies.",
      "range": {
        "startLine": 28,
        "startChar": 66,
        "endLine": 28,
        "endChar": 70
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25b8533f_a9af8ced",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "As you mention later, peci-pcie doesn\u0027t publish inventory items.  This is correct and by design.  If you\u0027d like to publish a pcie inventory item based on peci-pcie detection, add an entity-manager config file that matches on the PCIe device interfaces, and you\u0027ll get the behavior you\u0027re looking for.  Unfortunately, given the secret nature of a lot of accelerators, we never got a concrete example of this, but if you ping me on discord I\u0027ll bet we can put one together pretty quickly.",
      "range": {
        "startLine": 28,
        "startChar": 55,
        "endLine": 28,
        "endChar": 64
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ceb5cf54_56a316ec",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "peci-pcie get entire list of PCIe devices in the system and in bmcweb you do have code to get all the PCI devices, found by peci-pcie. Taking this I\u0027m make a conclusion that peci-pcie is inventory of PCIe itself. Well, for the and customer prospective, it should somehow filter out built-in devices, but otherwise this do exactly what we need: show each plugged device regardless of whether we know about each particular device.\nI tried to bring EM configuration file to add all items found by peci-pcie to EM, but this was weird.",
      "parentUuid": "25b8533f_a9af8ced",
      "range": {
        "startLine": 28,
        "startChar": 55,
        "endLine": 28,
        "endChar": 64
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "550ba190_9bf1b564",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "Can you talk more to this?  The mapper has the full inventory, and I wouldn\u0027t really call it \"difficult\" to use.  Is there something about that pattern specifically that\u0027s not working?  Please address and answer in your doc.",
      "range": {
        "startLine": 30,
        "startChar": 64,
        "endLine": 31,
        "endChar": 31
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "411bc335_64ffea64",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "whitespace.",
      "range": {
        "startLine": 32,
        "startChar": 11,
        "endLine": 32,
        "endChar": 12
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8292aa77_2ba9024a",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "I disagree with the statement \"primary\".  Entity-manager is designed to detect and configure inventory items.",
      "range": {
        "startLine": 34,
        "startChar": 14,
        "endLine": 34,
        "endChar": 79
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7476775_955a26ad",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Is it? My impression after log time work with EM was that one use it when it is needed to provide configuration for reactors, (e.g. dbus-sensors) but if you don\u0027t need this, it\u0027s better/easier to expose Inventory by yourself.\nWhat was the critical issue of the PIM then?",
      "parentUuid": "8292aa77_2ba9024a",
      "range": {
        "startLine": 34,
        "startChar": 14,
        "endLine": 34,
        "endChar": 79
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5080e6d8_82d5646e",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "Should this read, \"most (all) of the inventory items have configuration nodes that are not inventory items\"",
      "range": {
        "startLine": 35,
        "startChar": 73,
        "endLine": 36,
        "endChar": 76
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "308a13fc_80de8e07",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "While a lot of the patches these days are redfish, there is definitely the rest-dbus APIs that still function and work.",
      "range": {
        "startLine": 39,
        "startChar": 52,
        "endLine": 39,
        "endChar": 76
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8854b31c_c88216cd",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "No.... the generic code lives in the mapper, which bmcweb calls to get this information.",
      "range": {
        "startLine": 39,
        "startChar": 24,
        "endLine": 39,
        "endChar": 50
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64b47fc6_d71f4982",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Right, but mapper handle not only Inventory objects, so you need to know, how to request information. My point here just to highlight that we should have documented rules on that.",
      "parentUuid": "8854b31c_c88216cd",
      "range": {
        "startLine": 39,
        "startChar": 24,
        "endLine": 39,
        "endChar": 50
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a05af76d_f331dc32",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Isn\u0027t it was deprecated year ago? I was sure, no one use that rest-dbus API today.",
      "parentUuid": "308a13fc_80de8e07",
      "range": {
        "startLine": 39,
        "startChar": 52,
        "endLine": 39,
        "endChar": 76
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35f2b8d6_c407ec78",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "This needs reworded, because as written, this is outright false.  Redfish definitely has inventory items, in fact, the lack of configuration separated by inventory items is exactly why we build entity-manager in the first place.",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 40,
        "endChar": 37
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f203e9d8_142537d4",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "Disagree on this point.  I\u0027m all for making things more consistent, but if we had strict rules, entity-manager wouldn\u0027t have existed in the first place, and we wouldn\u0027t have had Redfish.  At the end of the day, people are trying to solve problems, and occasionally rules need to be changed to solve those problems.  Also, \"rules\" implies that we\u0027re not looking at the code.  The code contains the \"rules\" for how we operate.  If you want to change/add to them, we have a well defined process for doing so.",
      "range": {
        "startLine": 47,
        "startChar": 67,
        "endLine": 47,
        "endChar": 79
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "767b18bb_e55e3a70",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "I strongly agree that rules need to be changed sometime to achieve new goals and work in new conditions. But if we don\u0027t have rules at all, there is nothing to change.\n\nWhat about looking to the code: well, in ideal world probably everyone in community should know entire code base, but that is kind of unreal.\nOther thing, the existing code in not always represent the \"rules\" on \"how it supposed to be\", it more \"how it happens to be\". E.g. take a look on x86-power-control: it is here, but it definitely not how one should write new application (it uses lot of undocumented interfaces, and those interfaces which are documented, used wrong).",
      "parentUuid": "f203e9d8_142537d4",
      "range": {
        "startLine": 47,
        "startChar": 67,
        "endLine": 47,
        "endChar": 79
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1275bec_fb65c1f0",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "Would like to get more concrete estimates on who is planning on doing this refactoring, and what effort it\u0027s going to take.  You mention several repos above (I\u0027m sure there\u0027s more) have you reached out to the maintainers of those repos need to get them onboard with this plan?",
      "range": {
        "startLine": 49,
        "startChar": 23,
        "endLine": 49,
        "endChar": 25
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8123196_afafa37e",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "No, I didn\u0027t yet. I\u0027m interested in this work but first I want to understand if we (first TOF, then maintainers) can get to agreement on that this is right thing.",
      "parentUuid": "d1275bec_fb65c1f0",
      "range": {
        "startLine": 49,
        "startChar": 23,
        "endLine": 49,
        "endChar": 25
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f393ba1f_33d0e36d",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "This needs more detail.  From the existing entity-manager requirements:\n\n1. enumerate hardware in the system\n2. Items can be added or removed at any time, and should be atomic, without impacts to other hardware being added or removed.",
      "range": {
        "startLine": 64,
        "startChar": 0,
        "endLine": 64,
        "endChar": 65
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "147cada2_cf705208",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "This seems like you\u0027re going off the entity-manager definitions, which is fine, but when you point out inconsistency, you might want to point out that PIM doesn\u0027t use Type",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 67,
        "endChar": 7
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3176fbde_68351090",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "This one has always been subtle, and one of the reasons EM punted on it is \"what does absent mean?\"  Technically all supported hardware is absent until it\u0027s found, so listing every possible piece of hardware that could be in the system, then listing it as absent is kind of a waste.  IMO, this is really there for drive slots and Pcie slots, which a slot can be unfilled, but that\u0027s a different interface.",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 68,
        "endChar": 19
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56d121a8_7de38c72",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Agree",
      "parentUuid": "3176fbde_68351090",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 68,
        "endChar": 19
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bfc4dfb2_50dc6fbb",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "Asset isn\u0027t required, and should not be required.  The information isn\u0027t always available.",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 69,
        "endChar": 34
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8da280c_8b53dfe9",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Can you give examples? The only thing came to my mind right now it that upcoming \"cables\". But I agree, it can be optional.",
      "parentUuid": "bfc4dfb2_50dc6fbb",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 69,
        "endChar": 34
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f13f710_8364482f",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "This is a subtle one.  The inventory system can\u0027t always know these associations given how complex they can be in a system.",
      "range": {
        "startLine": 71,
        "startChar": 0,
        "endLine": 71,
        "endChar": 65
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f869ab0_c82b6cef",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Right, but when it known, it should be possibly to indicate.",
      "parentUuid": "0f13f710_8364482f",
      "range": {
        "startLine": 71,
        "startChar": 0,
        "endLine": 71,
        "endChar": 65
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bbbf299_2722dd76",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "more whitespace issues.",
      "range": {
        "startLine": 84,
        "startChar": 38,
        "endLine": 84,
        "endChar": 39
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3a2974e_33cd6d44",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "This was never the intent of entity-manager.  There WILL be sub processors that have their own inventory (example, publishing the SDR from an IPMB device).  That use case should be doable, and have resilience against crashing (ie, if the underlying daemon crashes, the resources should be cleaned up).  If there\u0027s a way to get both behaviors, I\u0027m open to design changes, but thusfar I haven\u0027t seen any code that accomplishes both.",
      "range": {
        "startLine": 86,
        "startChar": 38,
        "endLine": 86,
        "endChar": 53
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76bde67d_1eac836b",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "I disagree with statement \"if the underlying daemon crashes, the resources should be cleaned up\": the fact daemon crashed doesn\u0027t mead item removed from the system. Item should be removed once detection daemon detect removal.. Can you elaborate this statement?",
      "parentUuid": "e3a2974e_33cd6d44",
      "range": {
        "startLine": 86,
        "startChar": 38,
        "endLine": 86,
        "endChar": 53
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72e06080_2edae939",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 94,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "This seems like a very easily fixable problem with a couple interface changes.  This feels a lot more like a bug than a design question.",
      "range": {
        "startLine": 94,
        "startChar": 0,
        "endLine": 94,
        "endChar": 77
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6ba0bae_b609c6ad",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 94,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Is there a better way to fix this then just place same code to each daemon? Probably to have some library/wrapper to work with Inventory Items.\nOtherwise we should state this in architecture document that each demon should do this on Inventory Item exposing/Removal.\n\nBTW, I\u0027m not very happy with this messages from EM on each BMC reboot and sometimes even on i2c bus rescans: we don\u0027t \"install\" all this items each time. IMHO this log entries should be only sent on actual removal/changes, but this is completely another question.",
      "parentUuid": "72e06080_2edae939",
      "range": {
        "startLine": 94,
        "startChar": 0,
        "endLine": 94,
        "endChar": 77
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c81ad8d6_35b0f2c8",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T18:18:47Z",
      "side": 1,
      "message": "Can you give examples of use cases that don\u0027t work?  peci-pcie doesn\u0027t expose inventory items, so that shouldn\u0027t ever work until there\u0027s a config with a peci-pcie probe statement in it.\n\nSMBIOS-mdr, yeah, that\u0027s an issue that needs a lot of cleaning up.  The complexity there is that smbios-mdr has a lot of interfaces that don\u0027t necessarily need to go in entity-manager (at least, that author didn\u0027t think so).  cleaning that up probably deserves its own design doc.\n\nCPU info is another daemon that somewhat goes outside the initial intent of the design.  Ideally because CPUs are themselves \"entities\", CPUs should have an entity-manager config file that contains the XeonCPU exposes record in it.  In the current set of config files, XeonCPU is attached to the motherboard, which complicates this.  if this is something you\u0027re interested in tackling, I can give you some pointers on how to go about it.",
      "range": {
        "startLine": 95,
        "startChar": 0,
        "endLine": 96,
        "endChar": 30
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "152b9ba5_f2689ff6",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Right, that is what I mostly had in my mind.",
      "parentUuid": "c81ad8d6_35b0f2c8",
      "range": {
        "startLine": 95,
        "startChar": 0,
        "endLine": 96,
        "endChar": 30
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7466296f_022c3d38",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "Disagree here.  This is why the mapper exists.  If it\u0027s hard to use, lets add interfaces to make it easier.",
      "range": {
        "startLine": 101,
        "startChar": 71,
        "endLine": 102,
        "endChar": 56
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "934c1b2f_ad47abd3",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Right, it\u0027s something to improve.",
      "parentUuid": "7466296f_022c3d38",
      "range": {
        "startLine": 101,
        "startChar": 71,
        "endLine": 102,
        "endChar": 56
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a4ea05a_a028451e",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "You say this, yet there are designs and code in review to add exactly this.  Yes, it doesn\u0027t represent hierarchy as a path, but does have associations.",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 107,
        "endChar": 59
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e972f3a_986c7c92",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Does it already have associations or they are in proposal state? I probably miss something.",
      "parentUuid": "9a4ea05a_a028451e",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 107,
        "endChar": 59
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2fb7835_9f0ca478",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "Yes, connectors haven\u0027t been implemented, but there are several designs in review.  I\u0027d recommend looking at them.",
      "range": {
        "startLine": 107,
        "startChar": 61,
        "endLine": 108,
        "endChar": 56
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b29f7651_88ecf574",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Are you talking about https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/41468 ?\nIt is stalled and one of my goals is to push it forward.",
      "parentUuid": "f2fb7835_9f0ca478",
      "range": {
        "startLine": 107,
        "startChar": 61,
        "endLine": 108,
        "endChar": 56
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aef0fa5a_a87a3931",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "I have no idea why you think this.  Yes, Fans were the first thing that James and I implemented, and we know that it\u0027s non-ideal, but as a design pattern, EM is fully capable of representing these things.\n\nFWIW, gpiopresencesensor isn\u0027t merged yet, for exactly this reason (it didn\u0027t model its inventory interfaces properly, nor write a config file.).\n\nIf you\u0027re interested in how this gets modeled, please help to review.",
      "range": {
        "startLine": 114,
        "startChar": 0,
        "endLine": 115,
        "endChar": 75
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2723953b_7bfb59fd",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "So, what\u0027s the right way to model fans in EM if I want them to be Inventory Items? \nYou already mentioned it somewhere, but I don\u0027t remember you to show solution.",
      "parentUuid": "aef0fa5a_a87a3931",
      "range": {
        "startLine": 114,
        "startChar": 0,
        "endLine": 115,
        "endChar": 75
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "feeb5a11_ab7d15d9",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "This isn\u0027t true.  Code exists to exposes those two items, although it does break dbuses rule of \"no protocol specific interfaces\" but it does work.",
      "range": {
        "startLine": 121,
        "startChar": 4,
        "endLine": 121,
        "endChar": 58
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ccd7d78c_493649ac",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Are you talking about \"xyz.openbmc_project.Inventory.Decorator.Ipmi\" interface? I saw this code in getFruSdrs function, but I not really sure it works: there is no any documentation on what does in do, no any usage examples and even interface itself doesn\u0027t exists in phosphor-dbus-interfaces.\nMy bad, I didn\u0027t try it by myself and my impression was this is a legacy code from some unsuccessful experiment. As I see, this strictly related to FruDevice (and to what have real I2C FRU EEPROM) and very limited in flexibility.\nSaying about the rule: I generally agree with it, but there is a problem and there should be solution for it. For now the only real way to solve it is to go back to static sensors with YAML-based configs.\nFor this moment I have no proposals here, but this work somewhere in my plans.",
      "parentUuid": "feeb5a11_ab7d15d9",
      "range": {
        "startLine": 121,
        "startChar": 4,
        "endLine": 121,
        "endChar": 58
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2de49e5e_1907b24a",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "Aren\u0027t these already defined in phosphor-dbus-interfaces?  \"All kinds\" implies that we\u0027re going to fix all of our designs in one commit.  I would much rather this read something like \"Write design docs or patches for specific cleanups that are needed\".",
      "range": {
        "startLine": 128,
        "startChar": 4,
        "endLine": 128,
        "endChar": 72
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b48616c6_5945d84f",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "PDI doesn\u0027t define paths structure, only interfaces, isn\u0027t it?",
      "parentUuid": "2de49e5e_1907b24a",
      "range": {
        "startLine": 128,
        "startChar": 4,
        "endLine": 128,
        "endChar": 72
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45763477_e6436064",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "Isn\u0027t this already true?",
      "range": {
        "startLine": 133,
        "startChar": 0,
        "endLine": 134,
        "endChar": 37
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76003de2_c0233345",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "I think, now it is (excluding peci-pcie, which we discussed above), smbios-mdrv2 was fixed some time ago.",
      "parentUuid": "45763477_e6436064",
      "range": {
        "startLine": 133,
        "startChar": 0,
        "endLine": 134,
        "endChar": 37
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4cc7efb0_3bd6f49d",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "This can\u0027t be mandatory.  Not all devices have this present, or have access to a FRU.  (SAS/SATA drives on most systems for example).",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 135,
        "endChar": 61
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce7b4ef7_990f32de",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Well, any SAS/SATA drives still have vendor and model, we just don\u0027t know them. This mean, the interface should present, but values would be empty. At least because same drives on other system can have this information.\nProbably there are some items which really have no model and so on, but this not a case for drives.\n\nBTW, all EM configuration files doesn\u0027t implement all properties of xyz.openbmc_project.Inventory.Decorator.Asset interface. I don\u0027t know it there any issues with this. PIM will always create all properties, defined in PDI and also will reject properties that are not defined in the interface. IMHO this is good feature.",
      "parentUuid": "4cc7efb0_3bd6f49d",
      "range": {
        "startLine": 135,
        "startChar": 0,
        "endLine": 135,
        "endChar": 61
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b6bcd35_7ce2a5c5",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "This is described in code.  If you want to change it, that\u0027s fine, but I don\u0027t think just rewriting the code to interpret an inventory item in a doc is worthwhile, versus just making the code more consistent with its own design principals.",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 138,
        "endChar": 12
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3702e6f_c621fce4",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "In the cases, where different code acts differently, to make everything to be consistent you need to know what is right way, e.g. someone should say: app1 do it right, but app2 should be fixed to be consistent with app1.\nI now mostly speak about this three:\n`xyz.openbmc_project.Inventory.Item-\u003ePresent`\n`xyz.openbmc_project.State.Decorator.Availability-\u003eAvailable`\n`xyz.openbmc_project.State.Decorator.OperationalStatus-\u003eFunctional`\nand also `xyz.openbmc_project.Inventory.Item-\u003ePresent` vs `name` from the object path\n\nGenerally, there are descriptions in PDI itself, but I feel sometimes they are missused.",
      "parentUuid": "0b6bcd35_7ce2a5c5",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 138,
        "endChar": 12
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "edf5e44c_c53992d4",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "I have no idea what this means in terms of change.  This interface already exists, if a device has it, we use it.  If it doesn\u0027t, we assume the device is always \"ok\".  I\u0027m not sure what the change would be here.",
      "range": {
        "startLine": 139,
        "startChar": 0,
        "endLine": 140,
        "endChar": 56
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "531f49bb_cf2822b1",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Nothing to change, just document that we use it this way.",
      "parentUuid": "edf5e44c_c53992d4",
      "range": {
        "startLine": 139,
        "startChar": 0,
        "endLine": 140,
        "endChar": 56
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "851c2e3c_74530213",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 143,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "?  I\u0027m not really following this one.  If they\u0027re not implemented, I have no desire to enforce how they \"should\" be used, because that presumes that we understand every possible use case and architectural direction that openbmc might go.  If we\u0027re having a consistency issue, lets get it resolved, but I don\u0027t want to call out \"here\u0027s how to do drives\" \"here\u0027s how to do CPU\" without examples of said things, and if we have examples on master, they\u0027re the way to go.",
      "range": {
        "startLine": 142,
        "startChar": 0,
        "endLine": 143,
        "endChar": 12
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f68b100_d12e8a32",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 145,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "These already exist, so I\u0027m not sure what the actions are here.",
      "range": {
        "startLine": 144,
        "startChar": 0,
        "endLine": 145,
        "endChar": 23
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98004710_b40ac15f",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 145,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "I meant is to give examples: drive should have interface \".Item.Drive\" and CPU - \".Item.CPU\". But likely you right that this is obvious and should not be documented unless we have some special case.",
      "parentUuid": "3f68b100_d12e8a32",
      "range": {
        "startLine": 144,
        "startChar": 0,
        "endLine": 145,
        "endChar": 23
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ee3c311_2b89c775",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "whitespace.",
      "range": {
        "startLine": 148,
        "startChar": 10,
        "endLine": 148,
        "endChar": 11
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00b4d43a_47f8beaf",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "This one I can agree with, we should ideally be more consistent, but most of the inconsistency was caused by difficulty in implementation, so it\u0027s hard to document the \"right way\" when whatever exists on master is itself, the defined \"right way\" because it\u0027s on master.  If we\u0027re wanting to change things, lets define what change we want to make, but if we document a bunch of things that nobody can implement, that\u0027s worse than no documentation at all.",
      "range": {
        "startLine": 147,
        "startChar": 0,
        "endLine": 148,
        "endChar": 10
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2fc811aa_8bd4ba9c",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "agree",
      "parentUuid": "00b4d43a_47f8beaf",
      "range": {
        "startLine": 147,
        "startChar": 0,
        "endLine": 148,
        "endChar": 10
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "780f53a0_cb951c97",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "This is already the case in code, but logging this information is non-trivial to \"diff\" properly, so I\u0027m sure there are bugs, or your system is configured badly.  I\u0027m happy to take patches that improve EM in this regard.  The system configuration json file that\u0027s written to disk is supposed to guarantee this, but it has certain requirements of the power state system to function correctly, which not all systems do today.",
      "range": {
        "startLine": 150,
        "startChar": 17,
        "endLine": 150,
        "endChar": 71
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fafa4265_66362414",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "Agreed, we should look into this, but I don\u0027t think anyone has landed on a design that works for all use cases.  The closest I\u0027ve seen is agreements on naming conventions (ie, CPU1, CPU2, DIMM1, ect) so that the items \"merge\", but this has obvious maintenance problems, and we tend to have trouble getting people to agree on names.",
      "range": {
        "startLine": 152,
        "startChar": 3,
        "endLine": 153,
        "endChar": 45
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc3cb32c_b0280cd8",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "We do something like this in our design. Item name should be same for merged Items for sure, but... You can\u0027t force to use CPU1, CPU2, DIMM1 as names unless you use PrettyName everywhere to represent names for end users: e.g. we count CPUs from 0 and name DIMMs like DIMM_CPU0_A0",
      "parentUuid": "fafa4265_66362414",
      "range": {
        "startLine": 152,
        "startChar": 3,
        "endLine": 153,
        "endChar": 45
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6dc7c21b_7c2a376d",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 158,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "There are no designs for this that I\u0027m aware of, and this kind of thing really deserves its own design doc, given the complexities of how status needs implemented.",
      "range": {
        "startLine": 157,
        "startChar": 19,
        "endLine": 158,
        "endChar": 5
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d941aacc_bd6d6b6f",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 158,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "The only way I can imagine how to do this is proposal below on host all information in PIM. But I agree, it could be tricky.",
      "parentUuid": "6dc7c21b_7c2a376d",
      "range": {
        "startLine": 157,
        "startChar": 19,
        "endLine": 158,
        "endChar": 5
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1560f673_8b59646c",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "I have no idea what this means.  Do you mean the Exposes records for xyz.openbmc_project.EntityManager.Configuration interfaces?  I\u0027m happy to field other designs if you think they can be improved without breaking things, but what\u0027s there is the design we have today.",
      "range": {
        "startLine": 159,
        "startChar": 0,
        "endLine": 160,
        "endChar": 14
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "532d3462_10d6e87e",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "Sometime you need to model something that will always present in the given system, but should be represented as different Inventory Items for end user and/or other software. In our case that could be \"chassis\" which is defined in same system FRU with baseboard or fans, which we can\u0027t actually detect (we have no hardware presence pin) but can can say that system A always have FAN1, FAN2 and FAN3.\n\nOnce again, if you have good way to solve this, please, point an example. I tried to model this with match rule \"FOUND\", but that didn\u0027t work well for me.",
      "parentUuid": "1560f673_8b59646c",
      "range": {
        "startLine": 159,
        "startChar": 0,
        "endLine": 160,
        "endChar": 14
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1d4bcde_8bead584",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "Repeating myself, these exist, although I don\u0027t really like the design, I wasn\u0027t a part of it when it got checked in, and I don\u0027t have the bandwidth to clean it up.  If this is something you\u0027re interested in working on, lets talk and I can give you my thoughts on it, or send me patches to make it better.",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 162,
        "endChar": 73
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d26a8958_cae84fb5",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "As I said above, I didn\u0027t investigate this well, yet. But I know that this is not only my problem, I heard from several other community member that they also complain about this issue. Some of them found this critical and stay on YAML-based ipmi configuration.",
      "parentUuid": "d1d4bcde_8bead584",
      "range": {
        "startLine": 161,
        "startChar": 0,
        "endLine": 162,
        "endChar": 73
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce173e58_2f097a35",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "Again, I disagree on this point very adamantly.  Entity-managers goal was to tie system-level configuration items to inventory items such that they can be reused throughout the system, and we can trace things like \"Sensor X belongs to card Y\".  Statements like this aren\u0027t really true.",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 167,
        "endChar": 50
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6dd606c_d73f530b",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 168,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "I\u0027d be interested to see how such a design would work in code.  A key point of the reactors is that they\u0027re able to associate back to the physical inventory item that produced them (ie, sensor X is on card Y).  If PIM owns the Inventory item in the future, this makes the pointer much more complex (at least in my mind).  If there are patches that do this, and prove it\u0027s simpler, please, send them so they can be reviewed.",
      "range": {
        "startLine": 167,
        "startChar": 51,
        "endLine": 168,
        "endChar": 64
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28d14db9_ed8ae2f9",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 168,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "I\u0027d be interested too ) The idea come to my mind recently, and I had no chance to test it yet. Unfortunately, there is a new release cycle coming for us, so I\u0027ll be busy on internal fork again for next month, but it is in my plans to make some PoC. I will keep in mind you points on sensor relation.",
      "parentUuid": "e6dd606c_d73f530b",
      "range": {
        "startLine": 167,
        "startChar": 51,
        "endLine": 168,
        "endChar": 64
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c1320d5_d53dd8ed",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "I think one of the misunderstandings here is that EM was intended to be a replacement for PIM, such that you didn\u0027t need BOTH components to build a functioning system, and therefore didn\u0027t take the dependency and binary size hit.  Once we have patches that do the above, we should evaluate them for complexity and impact to binary size, given that most systems are at the limit already.",
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5d80617_9a40ab7f",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "agree",
      "parentUuid": "9c1320d5_d53dd8ed",
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "576c05a4_311d1604",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 178,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-09T19:33:59Z",
      "side": 1,
      "message": "Agreed here.  Looking forward to seeing the patches 😊",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 178,
        "endChar": 34
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f682f08_d637b505",
        "filename": "tof/proposals/otp-6.md",
        "patchSetId": 1
      },
      "lineNbr": 178,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-12-24T16:40:08Z",
      "side": 1,
      "message": "\u003d)",
      "parentUuid": "576c05a4_311d1604",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 178,
        "endChar": 34
      },
      "revId": "aafc3d03185f89f0abfdf95dd46a370ba428c42e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}