{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "46b1df86_c7043208",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-07-17T20:24:51Z",
      "side": 1,
      "message": "Thanks for the feedback. Please let me know if you have any other questions.",
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0b84198_bc9a8be9",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1001584
      },
      "writtenOn": "2023-07-17T17:38:44Z",
      "side": 1,
      "message": "Do we want to make it configurable in anyway? \n\nSome sort of configuration file(s) (emphasis on plural) to show which metrics are polled at what interval?\n\nSome metrics are intensive to poll on BMCs relative to others",
      "range": {
        "startLine": 12,
        "startChar": 3,
        "endLine": 12,
        "endChar": 15
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "88d80e72_1014a15c",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-07-17T20:24:51Z",
      "side": 1,
      "message": "Its already part of the existing phosphor-health-monitor design https://github.com/openbmc/docs/blob/master/designs/bmc-health-monitor.md. I have linked that in Background and References. Please refer to configuration section in that doc. I have proposed an addition to that configuration via \"Extensions for phosphor-health-monitor Configuration\".\n\nFrequency already exist in the phosphor-health-monitor configuration.",
      "parentUuid": "c0b84198_bc9a8be9",
      "range": {
        "startLine": 12,
        "startChar": 3,
        "endLine": 12,
        "endChar": 15
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8017852a_8d457437",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "Nit, please put something like \"Able to produce a redfish interface compliant with...\"",
      "range": {
        "startLine": 24,
        "startChar": 3,
        "endLine": 24,
        "endChar": 12
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "da7bf592_df079fdd",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8017852a_8d457437",
      "range": {
        "startLine": 24,
        "startChar": 3,
        "endLine": 24,
        "endChar": 12
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0588cc5f_d77cafef",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "Nit, please rephrase this in terms of performance.  A \"Cache\" isn\u0027t a requirement, a certain level of performance is.  A cache might very well be the right implementation, but it\u0027s not the requirement.",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 27,
        "endChar": 11
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf17ae7b_41f59234",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0588cc5f_d77cafef",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 27,
        "endChar": 11
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77d679f8_5e690f07",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1001584
      },
      "writtenOn": "2023-07-17T17:38:44Z",
      "side": 1,
      "message": "You bring up a lot of requirements but not really any method of enacting them. Could you elaborate more on these later on in the doc? I dont see any mention of alerts/alarms or remediation actions.",
      "range": {
        "startLine": 28,
        "startChar": 3,
        "endLine": 28,
        "endChar": 8
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "387060fd_246033b5",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-07-17T20:24:51Z",
      "side": 1,
      "message": "I have mentioned which requirement is being fulfilled by which section. Please refer to scope section.\n\nScope\nRequirements#5, 6 \u0026 7 are already covered by current phosphor-health-monitor design, hence are out of scope of this proposal.",
      "parentUuid": "77d679f8_5e690f07",
      "range": {
        "startLine": 28,
        "startChar": 3,
        "endLine": 28,
        "endChar": 8
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29c52f3e_d6da6e43",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "More details needed here.  \"alert\" isn\u0027t well defined.",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 71
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "216d546b_779517db",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "I have added an example to better explain it. Please let me what more details you are looking for defining alerts as i kept the requirements generic rather than adding any implementation specific details.",
      "parentUuid": "29c52f3e_d6da6e43",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 71
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5734509b_e039752e",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "Also needs better defined.  What is a \"remediation action\"?",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 63
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b1447a5_30dc46a2",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Originally i added requirements for generic BMC Health Monitoring (even which were part of existing design). I have changed that flow to only add the requirements being addressed by this document and not to mention the requirements which are already handled by current design (phosphor-health-monitor). Hence, skipping this as its already part of current design.",
      "parentUuid": "5734509b_e039752e",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 63
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6066164_a0bdfeb2",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "What does \"granularities\" mean here?  Maybe add something to your requirements about having more granular telemetry?",
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6e92fc2c_b8d8e746",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "They are already specified in requirements. Please refer to Requirement# 2.",
      "parentUuid": "e6066164_a0bdfeb2",
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9386efd_80d49ff4",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "would it be possible to reword this problem description a little?  Each of these things amount to essentially missing features or bugs.  Based on your requirements, you\u0027re clearly trying to add some functionality, but the problem description doesn\u0027t capture that well, and seems to focus in on what amounts to bugs, that I would be really surprised if we need a design doc to cover.",
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1c588bb_6e759cde",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-18T20:04:56Z",
      "side": 1,
      "message": "👍: ... that\u0027s partially why I said earlier that calling this \"v2\" doesn\u0027t really make sense.  I don\u0027t think a new design document is ultimately what should be merged but just an update to the current design document to cover your new features.",
      "parentUuid": "a9386efd_80d49ff4",
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dc50faf3_9d964d27",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Initially, i added requirements for generic BMC Health Monitoring (even which were part of existing design). I have changed that flow to only add the requirements being addressed by this document and not to mention the requirements which are already handled by current design (phosphor-health-monitor).\nSure, we can fold the final consensus into the original design doc by making modifications to it.",
      "parentUuid": "e1c588bb_6e759cde",
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d73ad142_eba588ed",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "This interface has some issues:\n1. Upper and lower bounds are optional within the interface\n2. Each interface itself is optional\n3. Each interface has a different name.\n\n\nThis leads to a lot of mediocre code in dbus-sensors and bmcweb trying to piece apart these thresholds into a single structure, which could be better represented.\n\nIf we\u0027re writing all new code anyway, I\u0027d advocate for trying to improve the threshold interfaces, and not try to reuse something from the sensor namespace just because it\u0027s there.  Ideally we\u0027d fix the sensor interfaces to be more sane as well, but that might take a lot of effort.",
      "range": {
        "startLine": 58,
        "startChar": 26,
        "endLine": 58,
        "endChar": 95
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf462e34_ef7eae1c",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-18T20:04:56Z",
      "side": 1,
      "message": "I don\u0027t think we should ask Jagpal to refactor the entire codebase for Sensor.Threshold.  That is akin to asking him to put in a new engine when he\u0027s requesting to tint the windows.\n\nI think there are a few design options that would align with what you\u0027ve [Ed] suggested:\n\n1. Metric thresholds should use the existing Sensor.Threshold objects and someone else might come along later and refactor Sensor.Threshold across all implementations.\n\n2. We create separate Metric.Threshold interfaces that more model how we [Ed] would like to see thresholds and someone can refactor Sensor.Thresholds later.\n\n3. We create a new Sensor.Threshold structure, which Metrics will use, that aligns with this new thinking and mark the old interfaces as Deprecated.\n\nI am fine with any of these 3 directions, but I would weakly be opposed to #2.\n\nWhatever we do I think there is the question of \"what happens to the existing Sensors exposed by phosphor-health-monitor\" which I don\u0027t see clearly spelled out in this document.  There is already some bmcweb code (and probably phosphor-host-ipmi also) that can handle the existing \"Sensors\".  Are we keeping those?  Are we removing those?  Are we going to refactor the downstream users to consume the new structure?",
      "parentUuid": "d73ad142_eba588ed",
      "range": {
        "startLine": 58,
        "startChar": 26,
        "endLine": 58,
        "endChar": 95
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77be2479_e68b0ce5",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T20:15:21Z",
      "side": 1,
      "message": "\u003e I don\u0027t think we should ask Jagpal to refactor the entire codebase for Sensor.Threshold. \n\nAgreed, I asked him to use a new metric-specific interface that doesn\u0027t have the downsides.  Unless he plans to reuse the code from the Redfish sensor schema (which, oh god, please don\u0027t) we might as well at least fix the issues for metrics.\n\n1. If that\u0027s true, and the Redfish/sensor code is reused and not duplicated, I\u0027m fine with it, but I suspect a new, better interface is going to be much simpler.\n2.",
      "parentUuid": "cf462e34_ef7eae1c",
      "range": {
        "startLine": 58,
        "startChar": 26,
        "endLine": 58,
        "endChar": 95
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bba9b8ff_45d47455",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "As i understood from this conversation, folks are in support of having a common interface for Threshold. So, i am going to add one in my next PR update for Interface.",
      "parentUuid": "77be2479_e68b0ce5",
      "range": {
        "startLine": 58,
        "startChar": 26,
        "endLine": 58,
        "endChar": 95
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "228c8716_7d093fe6",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "I\u0027m fine with the former, but why would we ever need the later?  We\u0027re not talking about independent hardware here that might need multiple implementations, we\u0027re talking about something with a single implementation.",
      "range": {
        "startLine": 60,
        "startChar": 45,
        "endLine": 61,
        "endChar": 21
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "871c5191_e09752a5",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-18T20:04:56Z",
      "side": 1,
      "message": "Jagpal: please clarify (in the document).\n\nTwo examples I can think of:\n- Metrics eventually associated with satellite management controllers.\n- Metrics which are not visible by phosphor-health-monitor, such as BMC reboot counts.",
      "parentUuid": "228c8716_7d093fe6",
      "range": {
        "startLine": 60,
        "startChar": 45,
        "endLine": 61,
        "endChar": 21
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cab0b953_7cb9f6a3",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T20:15:21Z",
      "side": 1,
      "message": "ACK.  Patricks description makes sense.  Please add the detail to your document.",
      "parentUuid": "871c5191_e09752a5",
      "range": {
        "startLine": 60,
        "startChar": 45,
        "endLine": 61,
        "endChar": 21
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3cd28630_e14f8c15",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Changed the interface, so not needed anymore.",
      "parentUuid": "cab0b953_7cb9f6a3",
      "range": {
        "startLine": 60,
        "startChar": 45,
        "endLine": 61,
        "endChar": 21
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fea99e0b_fc28c373",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "nit, lower camel case is the convention for dbus paths, so this would be \"metrics\".\n\nNon-nic Can we have a more specific name here?  \"Metrics\" could mean any manner of things, and in this case we\u0027re being very specific that this is the CPU utilitization for the BMC, not for the host, coprocessor, or anything else that might exist.",
      "range": {
        "startLine": 70,
        "startChar": 28,
        "endLine": 70,
        "endChar": 35
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "768b89db_ad901adf",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-18T20:04:56Z",
      "side": 1,
      "message": "👍.  `metrics` should be a namespace with some kind of conventions for instances that live underneath that namespace.  Having everything at a single path precludes reusing this design for SMCs, which is pretty short-sighted.",
      "parentUuid": "fea99e0b_fc28c373",
      "range": {
        "startLine": 70,
        "startChar": 28,
        "endLine": 70,
        "endChar": 35
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a675816_1157dd7f",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T20:15:21Z",
      "side": 1,
      "message": "+1.  Adding the \"we want to use this for satelite controllers\" make this doc make a ton more sense.\n\nKeep in mind, satellite controllers is likely going to require major bmcweb assumption changes (right now we assume one manager instance), so happy to talk however you want (I don\u0027t need a design doc), but it\u0027s going to be non-trivial to get done.",
      "parentUuid": "768b89db_ad901adf",
      "range": {
        "startLine": 70,
        "startChar": 28,
        "endLine": 70,
        "endChar": 35
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9c82643_7db69f92",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-18T20:21:40Z",
      "side": 1,
      "message": "For clarity:\n\n- Meta doesn\u0027t currently have plans to add metrics for SMCs.\n- Me, as a reviewer, has heard enough about SMCs lately that it came to mind when reviewing this and I think we should make sure it can be shoehorned in easily enough in the future (from a dbus interface perspective).",
      "parentUuid": "5a675816_1157dd7f",
      "range": {
        "startLine": 70,
        "startChar": 28,
        "endLine": 70,
        "endChar": 35
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d01df65_ef047660",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Ack. Added more details on this in \"Multi Host Platforms\" section",
      "parentUuid": "f9c82643_7db69f92",
      "range": {
        "startLine": 70,
        "startChar": 28,
        "endLine": 70,
        "endChar": 35
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aad4624e_06369220",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "Please remove.  An example is not important to the design itself.  If you wanted to document this outside the design, you could.",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 77,
        "endChar": 3
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b16b5532_e19ac38f",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "aad4624e_06369220",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 77,
        "endChar": 3
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc4c940b_149a4908",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 79,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "nit, typo.",
      "range": {
        "startLine": 79,
        "startChar": 5,
        "endLine": 79,
        "endChar": 14
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ac79743_29f7c84a",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 79,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cc4c940b_149a4908",
      "range": {
        "startLine": 79,
        "startChar": 5,
        "endLine": 79,
        "endChar": 14
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee08dd7e_73519989",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "This interface has some issues:\n1. Upper and lower bounds are optional within the interface\n2. Each interface itself is optional\n3. Each interface has a different name.\n\n\nThis leads to a lot of mediocre code in dbus-sensors and bmcweb trying to piece apart these thresholds into a single structure, which could be better represented.\n\nIf we\u0027re writing all new code anyway, I\u0027d advocate for trying to improve the threshold interfaces, and not try to reuse something from the sensor namespace just because it\u0027s there.  Ideally we\u0027d fix the sensor interfaces to be more sane as well, but that might take a lot of effort.",
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "970e9de4_ce08b6e9",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "As discussed above, i am going to add a new Metric Threshold interface in next update for interface.",
      "parentUuid": "ee08dd7e_73519989",
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b02b1a4_42b878fc",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "Why is this hosted in debug-collector?  bmc-state-manager seems like a more adequate spot.  I can\u0027t think why the debug collector would be tracking reboot counts.",
      "range": {
        "startLine": 90,
        "startChar": 22,
        "endLine": 90,
        "endChar": 46
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e5081a84_b285a73e",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1b02b1a4_42b878fc",
      "range": {
        "startLine": 90,
        "startChar": 22,
        "endLine": 90,
        "endChar": 46
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1dfcec0a_4cb78945",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "I\u0027ve never really understood why phosphor-health-monitor needs a per-machine config file.  I would expect the limits we set to be the same across systems, and given that most bmcs have basically the same memory/cpu, I don\u0027t understand why we would want a per-machine config here.\n\nIt looks like the only layers that have overriden this are quanta, facebook, and ibm.  Can you speak to why any amount of per-machine configuration would be needed here?\n\nThe more per-machine configuration we have, the harder it is to keep older machines up to date as changes are made, so I\u0027d prefer to keep everything common if possible until we have a reason to not.",
      "range": {
        "startLine": 96,
        "startChar": 0,
        "endLine": 97,
        "endChar": 40
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e9fe7af_a3222ec0",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "@ed Different platforms might want to have different threshold levels for memory, cpu utilization etc as per their need. Moreover, they might want to take different actions rather than generic ones (on threshold violations). So, my suggestion is we should not take that knob away from the platform. But i do agree to the fact that we should have a default (in code) configuration which could be over-ridden (via platform configuration json). Also, this way platform can only provide which metric properties they want to over-ride rather than re-writing the whole file.",
      "parentUuid": "1dfcec0a_4cb78945",
      "range": {
        "startLine": 96,
        "startChar": 0,
        "endLine": 97,
        "endChar": 40
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b3ee011_c9aa971d",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "Could you please enumerate something like:\n\n\"Use collectd as a health monitor\" that would involve not writing our own?  A lot of the problems we have have been solved for a very long time, and have open source solutions that we can leverage to keep the maintenance burden low.  I understand the desire to write new code, but having a dbus output plugin on collectd might make adding more metrics beyond this doc trivial, so I\u0027d at least like it explored as an option.",
      "range": {
        "startLine": 133,
        "startChar": 14,
        "endLine": 133,
        "endChar": 19
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f7d6d4c_11fb73a5",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Sure, I have done the analysis on Collectd as an option and added it to the Alternatives section.",
      "parentUuid": "7b3ee011_c9aa971d",
      "range": {
        "startLine": 133,
        "startChar": 14,
        "endLine": 133,
        "endChar": 19
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bea7743e_e1a3e25d",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 143,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "Why the deep folder structure here.  These are going to be well-known paths, so why not just\n\n/xyz/openbmc_project/BMCTotalMemory",
      "range": {
        "startLine": 143,
        "startChar": 36,
        "endLine": 143,
        "endChar": 57
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d216825_30f57a4f",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 143,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-18T20:04:56Z",
      "side": 1,
      "message": "They should at least be in a metrics namespace to allow more granular signal matches.",
      "parentUuid": "bea7743e_e1a3e25d",
      "range": {
        "startLine": 143,
        "startChar": 36,
        "endLine": 143,
        "endChar": 57
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ebff45b_a04e5fbe",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 143,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T20:15:21Z",
      "side": 1,
      "message": "Sure, that\u0027s fine, I\u0027m just trying to understand what the intent of the structure is.",
      "parentUuid": "2d216825_30f57a4f",
      "range": {
        "startLine": 143,
        "startChar": 36,
        "endLine": 143,
        "endChar": 57
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "56058e46_c4eec55a",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 143,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Yes it will help with signal matches as well as we can query the subtree paths easily lets say all subtrees for MemoryUtilization, rather than doing local regexes.",
      "parentUuid": "3ebff45b_a04e5fbe",
      "range": {
        "startLine": 143,
        "startChar": 36,
        "endLine": 143,
        "endChar": 57
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40be511a_7591c988",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 177,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-18T00:42:53Z",
      "side": 1,
      "message": "This would kind of imply that collectd would be worth looking into.",
      "range": {
        "startLine": 170,
        "startChar": 0,
        "endLine": 177,
        "endChar": 24
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "940fbd0f_ad6f7f8f",
        "filename": "designs/bmc-health-monitor-v2.md",
        "patchSetId": 1
      },
      "lineNbr": 177,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2023-08-11T18:38:21Z",
      "side": 1,
      "message": "Added the analysis on Collectd in Alternative section.",
      "parentUuid": "40be511a_7591c988",
      "range": {
        "startLine": 170,
        "startChar": 0,
        "endLine": 177,
        "endChar": 24
      },
      "revId": "bc73c361fc4aae04f1a3d0d6c99a3ac7621857fb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}