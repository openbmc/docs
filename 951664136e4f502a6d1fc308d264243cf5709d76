{
  "comments": [
    {
      "key": {
        "uuid": "c7c39ab4_8e89e5a0",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-11-10T22:01:16Z",
      "side": 1,
      "message": "I can\u0027t tell if this is a proposal for a specific set of repositories or ALL repositories that use any static configuration.  Can you clarify?\n\nIt seems like this is centered around IPMI-related repositories.  If it is IPMI-centric, can you please rename the file to indicate this.  I expect this \"design document\" to be somewhat short-lived while the work is going on, if we need to even merge it at all, and I don\u0027t want someone confusing this as an over-arching design if that isn\u0027t what it is.",
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a33b461_e26f5e4f",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1000593
      },
      "writtenOn": "2020-12-15T17:30:44Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c7c39ab4_8e89e5a0",
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ccc3bf13_1c4d6171",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 42,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2020-11-09T21:41:40Z",
      "side": 1,
      "message": "Rather than creating a new repository, have you considering just using one of the existing repositories, and having them publish the generated files as part of their install step?\n\nThat would allow other tools to use said files, but wouldn\u0027t require moving (a least one repos worth) the existing code, or creating a new repo, and mechanincally seems like it would be pretty minimal to execute.\n\nOff the top of my head, phosphor-host-ipmid could publish the generated headers files then declaring a DEPENDS for ipmi-fru-parser and openpower-host-ipmi-oem on phosphor-host-ipmid would give you access to said files.\n\nWhat do you think?",
      "range": {
        "startLine": 42,
        "startChar": 38,
        "endLine": 42,
        "endChar": 52
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "811b0dad_9e3e9ec5",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 42,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-11-23T21:40:05Z",
      "side": 1,
      "message": "I\u0027m intrigued by the idea of make install installing a bunch of generated headers...\n\n\u003e phosphor-host-ipmid could publish the generated headers\n\nthe yaml-\u003emako-\u003ecpp pattern extends way beyond the ipmi domain so this probably doesn\u0027t make sense.",
      "parentUuid": "ccc3bf13_1c4d6171",
      "range": {
        "startLine": 42,
        "startChar": 38,
        "endLine": 42,
        "endChar": 52
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e388727_c8f280a2",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 42,
      "author": {
        "id": 1000593
      },
      "writtenOn": "2020-12-17T23:02:19Z",
      "side": 1,
      "message": "Using an exiting repositories sounds good. I would support putting it  phosphor-host-ipmid.\n\nI will ask a noob question, what other data uses the yaml-\u003emako-\u003ecpp pattern?",
      "parentUuid": "811b0dad_9e3e9ec5",
      "range": {
        "startLine": 42,
        "startChar": 38,
        "endLine": 42,
        "endChar": 52
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e8f2e61_d8c9a5a0",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 42,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2020-12-29T23:18:02Z",
      "side": 1,
      "message": "I\u0027d be fine with using an existing repo, but wouldn\u0027t we want to have a separate -native recipe to avoid the installed headers ending up in the final BMC image?",
      "parentUuid": "8e388727_c8f280a2",
      "range": {
        "startLine": 42,
        "startChar": 38,
        "endLine": 42,
        "endChar": 52
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b22f1cb_10582c21",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-11-10T22:01:16Z",
      "side": 1,
      "message": "This isn\u0027t necessarily a bad thing.  The code is the same right now because the requirements happen to align.  As time moves on it is possible that these repositories will end up with different data needs, which may necessitate a different format.\n\nHaving all the parsing code in one repository may reduce the duplication but it also ties these repositories together tighter.  Code duplication is also less coupling.\n\nI\u0027m not suggesting one approach is better than another but I think this aspect should be discussed in the pros/cons.",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 55,
        "endChar": 54
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d30048b5_2311a8e3",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-11-23T21:40:05Z",
      "side": 1,
      "message": "\u003e but it also ties these repositories together tighter\n\nIMO OpenBMC is already tightly coupled because of things like our (lack of) API stability guarantee and esoteric DBus patterns like the mapper.  Do we really care about loose coupling?",
      "parentUuid": "5b22f1cb_10582c21",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 55,
        "endChar": 54
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1861ced2_47abda43",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2020-12-03T21:22:52Z",
      "side": 1,
      "message": "These data structures are all being generated from the same set of YAML files anyways. If one repo has different data needs, it\u0027ll most likely have to change the YAML format (affecting all the consumers of these files) or create a new YAML.\n\nI don\u0027t think the code duplication really gets us any concrete benefits.",
      "parentUuid": "d30048b5_2311a8e3",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 55,
        "endChar": 54
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8bca41d_5a5321c4",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1000593
      },
      "writtenOn": "2020-12-17T23:02:19Z",
      "side": 1,
      "message": "When the when the data comes from the same source, having different copies of the same parser is difficult to justify (in my mind).\nBut I know, I am new here.",
      "parentUuid": "1861ced2_47abda43",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 55,
        "endChar": 54
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5485f0c6_eab85d72",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 59,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2020-11-09T21:41:40Z",
      "side": 1,
      "message": "Openbmc upstream pre-submit infrastructure probably isn\u0027t enough in this case.  I\u0027d recommend using something that dumps the FRUs/SDRs as an example that this works properly, something like ipmitool fru print is likely enough of a test to verify we haven\u0027t broken anything, as well as dumping the ipmi sdr to a file and comparing it before and after to verify the SDR didn\u0027t change.",
      "range": {
        "startLine": 59,
        "startChar": 0,
        "endLine": 59,
        "endChar": 64
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba72e611_ba28c9d8",
        "filename": "designs/refactor-static-configs.md",
        "patchSetId": 3
      },
      "lineNbr": 59,
      "author": {
        "id": 1000593
      },
      "writtenOn": "2020-12-17T23:02:19Z",
      "side": 1,
      "message": "I will update this section in the doc. Let me know what you think of it",
      "parentUuid": "5485f0c6_eab85d72",
      "range": {
        "startLine": 59,
        "startChar": 0,
        "endLine": 59,
        "endChar": 64
      },
      "revId": "951664136e4f502a6d1fc308d264243cf5709d76",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}