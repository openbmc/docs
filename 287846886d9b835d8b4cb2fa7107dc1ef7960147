{
  "comments": [
    {
      "key": {
        "uuid": "d3b6a09d_cc62a6f9",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-07-19T23:39:29Z",
      "side": 1,
      "message": "These are power-related, I would think they can go in the Power section above and follow the naming scheme?",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 16
      },
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c727090b_982c939f",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2021-07-20T15:19:24Z",
      "side": 1,
      "message": "They could, but these are known names being used in systems. For example:\nhttps://github.com/openbmc/meta-ingrasys/blob/7dfbc01f6787cf41bf9be2bd0f5b3c46ce710016/meta-zaius/recipes-phosphor/skeleton/obmc-libobmc-intf/gpio_defs.json\nhttps://github.com/openbmc/meta-yadro/blob/f14d5bc9b8a66b9646113597b7776ccfbb7145d2/meta-nicole/recipes-phosphor/skeleton/obmc-libobmc-intf/gpio_defs.json\nhttps://github.com/openbmc/meta-inventec/blob/b1bb8dd37ec15e58fd2867724fb278649a6d3826/meta-lanyang/recipes-phosphor/skeleton/obmc-libobmc-intf/gpio_defs.json\nhttps://github.com/openbmc/meta-ibm/blob/c203fa3d1ca3de7d61b3c06a22dbf4385202cc78/recipes-phosphor/skeleton/obmc-libobmc-intf/witherspoon/gpio_defs.json\nhttps://github.com/openbmc/meta-ibm/blob/c203fa3d1ca3de7d61b3c06a22dbf4385202cc78/meta-romulus/recipes-phosphor/skeleton/obmc-libobmc-intf/gpio_defs.json\n...\n\nChanging to names or a naming scheme unknown the the engineers and architects of these and like systems, and not matching the schematics and documentation of those systems would be a source of confusion.  It would be better, in my opinion, to document the names as they are already known and to list them in this section.",
      "parentUuid": "d3b6a09d_cc62a6f9",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 16
      },
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3531556_2c138b1a",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-07-21T19:35:51Z",
      "side": 1,
      "message": "I\u0027m not having this argument with every new person that IBM decides to put on this project.\n\n\u003e Changing to names or a naming scheme unknown the the engineers and architects of these and like systems, and not matching the schematics and documentation of those systems would be a source of confusion.\n\nThese names are *purposefully* *not* the same as schematic names.  These are common __software__ names so that we have consistency in our __software__ implementation.  Every company has their own madness of schematic naming schemes.  We are not adopting one or any of them.\n\nIf you need to help your engineers look up a pin name on the schematic, you are more than welcome to add a comment to your system\u0027s device tree to help with that association.",
      "parentUuid": "c727090b_982c939f",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 16
      },
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc06b7cf_e1d034db",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2021-07-21T21:59:45Z",
      "side": 1,
      "message": "\u003e I\u0027m not having this argument with every new person that IBM decides to put on this project.\n\nThe grey in my beard suggests this in not my first trip to the rodeo.\n\n\u003e \n\u003e \u003e Changing to names or a naming scheme unknown the the engineers and architects of these and like systems, and not matching the schematics and documentation of those systems would be a source of confusion.\n\u003e \n\u003e These names are *purposefully* *not* the same as schematic names.  These are common __software__ names so that we have consistency in our __software__ implementation.  Every company has their own madness of schematic naming schemes.  We are not adopting one or any of them.\n\u003e \n\u003e If you need to help your engineers look up a pin name on the schematic, you are more than welcome to add a comment to your system\u0027s device tree to help with that association.\n\nOK, I understand your point of view.  I don\u0027t see the harm in documenting names already known to the OBMC community, especially in a section for legacy and POWER specific names.\n\nI agree with the goal of getting to a common software implemenation, but I don\u0027t think power control is ready for that yet. I think it would be better to stay with platform specific than attempt a common implementation that would not be adopted by other platforms.",
      "parentUuid": "b3531556_2c138b1a",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 16
      },
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "982ec00a_8600d49d",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-07-21T23:06:04Z",
      "side": 1,
      "message": "The existing power control code doesn\u0027t even use the GPIO names from the devicetree though right? We write a gpio_defs.json file, and it maps the SoC GPIO names (B6, H4, AA3 etc) to the appropriate names defined in the GPIO code (SYS_PWROK_BUFF, SOFTWARE_PGOOD, BMC_POWER_UP etc).\n\nUnless you\u0027re planning to patch the GPIO code in libopenbmc_intf to add support for devicetree GPIO names, I don\u0027t think we need this patch. If that is what you\u0027re planning, then given you\u0027re patching the code anyway I think we could at least settle on some reasonable names here and include the new naming as part of your patches.\n\nIf it\u0027s not what you\u0027re planning then I think we just leave the code as it is and eventually lay it to rest. I\u0027m kinda surprised that it hasn\u0027t been replaced yet anyway.",
      "parentUuid": "bc06b7cf_e1d034db",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 16
      },
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1b2b412_182bc69d",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-07-22T11:36:38Z",
      "side": 1,
      "message": "\u003e\u003e I\u0027m not having this argument with every new person that IBM decides to put on this project.\n\u003e The grey in my beard suggests this in not my first trip to the rodeo.\n\nThis was not an indication on your personal experience or expertise.  I swear I\u0027ve had about 6 discussions now on these where someone proposed \"it would be much better if I could use the schematic name here\", which is what you tried to do.\n\n\u003e OK, I understand your point of view.  I don\u0027t see the harm in documenting names already known to the OBMC community, especially in a section for legacy and POWER specific names.\n\nI\u0027d rather not document ones that we don\u0027t want to continue propagating.  Everything in skeleton should have been deleted at least 5 years ago and is left over from when a few people were randomly slinging Python around for 6 months frantically trying to put something together for Rackspace.  It is not a good pattern of where we want to be today.\n\n\u003e {stuff said by @arj}\n\nI agree with this.  If the point here was to just document stuff in skeleton I\u0027d rather pass.  If your intent was to refactor it to conform to better practices, great!",
      "parentUuid": "982ec00a_8600d49d",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 16
      },
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87fe7ada_8aaccc70",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2021-07-22T18:16:24Z",
      "side": 1,
      "message": "! Andrew Jeffery\n\n| The existing power control code doesn\u0027t even use the GPIO names from the devicetree though \n| right? We write a gpio_defs.json file, and it maps the SoC GPIO names (B6, H4, AA3 etc) to \n| the appropriate names defined in the GPIO code (SYS_PWROK_BUFF, SOFTWARE_PGOOD, BMC_POWER_UP | etc).\n\nCorrect.\n\n| Unless you\u0027re planning to patch the GPIO code in libopenbmc_intf to add support for \n| devicetree GPIO names, I don\u0027t think we need this patch. If that is what you\u0027re planning, \n| then given you\u0027re patching the code anyway I think we could at least settle on some \n| reasonable names here and include the new naming as part of your patches.\n\n| If it\u0027s not what you\u0027re planning then I think we just leave the code as it is and eventually \n| lay it to rest. I\u0027m kinda surprised that it hasn\u0027t been replaced yet anyway.\n\nI\u0027m planning to add the GPIO names to devicetrees and use them in a new power control application.  The DTs and application would only be for POWER systems. As you are saying, any names can be made to work (\"x\", \"y\", and \"z\" even).  My thought is the names I\u0027ve proposed best reflect the scope and history of their planned usage. The gpio_defs.json / skeleton code is problematic if you want to support multiple systems in a single image.\n\n\n| Patrick Williams\n\n| This was not an indication on your personal experience or expertise.  I swear I\u0027ve had about \n| 6 discussions now on these where someone proposed \"it would be much better if I could use the \n| schematic name here\", which is what you tried to do.\n\nI did say that.  If I\u0027d known I was blundering into a FAQ, I\u0027d have made a different argument.\n\n| I\u0027d rather not document ones that we don\u0027t want to continue propagating.  Everything in \n| skeleton should have been deleted at least 5 years ago and is left over from when a few \n| people were randomly slinging Python around for 6 months frantically trying to put something \n| together for Rackspace.  It is not a good pattern of where we want to be today.\n\nI\u0027d be fine with not documenting them.  I agree that the skeleton code should go.",
      "parentUuid": "d1b2b412_182bc69d",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 16
      },
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1683842_4ff62123",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-07-27T00:26:08Z",
      "side": 1,
      "message": "\u003e I\u0027m planning to add the GPIO names to devicetrees and use them in a new power control application.  The DTs and application would only be for POWER systems.\n\nHave you consulted with others in the OpenBMC community on how we can avoid platform-specific code here?\n\n\u003e As you are saying, any names can be made to work (\"x\", \"y\", and \"z\" even).  My thought is the names I\u0027ve proposed best reflect the scope and history of their planned usage.\n\nI don\u0027t think tradition is a good argument. Can you please pick some names that are aligned with the direction of this document? Again, this goes hand-in-hand with consulting others in the community on what would be helpful more broadly. I haven\u0027t seen any discussion of this on the mailing list or in discord. If you\u0027ve had these discussions can you please link them here for context? If you haven\u0027t already had these discussions then I want to see some effort towards avoiding platform-specific code.\n\n\u003e I\u0027d be fine with not documenting them.\n\nIf you\u0027re writing new code, they really must be documented or we should have some evidence of agreement from others in the community about why they should not be documented.",
      "parentUuid": "87fe7ada_8aaccc70",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 16
      },
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a12e806_da9cd37f",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-07-21T19:25:10Z",
      "side": 1,
      "message": "You are basically arguing the schematic names that came from a common reference design is more important than the rationale for the naming scheme and any commonalities with design functional from other sources.",
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5392e366_9569436b",
        "filename": "designs/device-tree-gpio-naming.md",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1000387
      },
      "writtenOn": "2021-07-21T21:59:45Z",
      "side": 1,
      "message": "No, I don\u0027t think I\u0027m making an argument regarding the relative merit of those two ideas. At least I am not trying too. I don\u0027t think what I\u0027m proposing precludes any future improvements. I\u0027m hoping documenting where we are currently is a first step toward future improvements.",
      "parentUuid": "8a12e806_da9cd37f",
      "revId": "287846886d9b835d8b4cb2fa7107dc1ef7960147",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}