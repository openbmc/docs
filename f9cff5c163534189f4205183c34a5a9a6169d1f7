{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b3a7eb73_0f48cf7a",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-12-17T01:25:17Z",
      "side": 1,
      "message": "Let\u0027s drop the specific service manager implementation here. This part is meant to be pretty abstract.",
      "range": {
        "startLine": 21,
        "startChar": 40,
        "endLine": 21,
        "endChar": 47
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cef92d6a_e25765ed",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b3a7eb73_0f48cf7a",
      "range": {
        "startLine": 21,
        "startChar": 40,
        "endLine": 21,
        "endChar": 47
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1ccd712_d28a3d66",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-12-17T01:25:17Z",
      "side": 1,
      "message": "\"The requirements for OpenBMC when a platform-data-provider service enters a failure state are that the BMC:",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 72
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "860a552b_f6cbaa8a",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c1ccd712_d28a3d66",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 72
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd3032b7_98078da0",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 167,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-12-17T01:25:17Z",
      "side": 1,
      "message": "\"Logs an error\"",
      "range": {
        "startLine": 167,
        "startChar": 2,
        "endLine": 167,
        "endChar": 11
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7197181_d724a17e",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 167,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bd3032b7_98078da0",
      "range": {
        "startLine": 167,
        "startChar": 2,
        "endLine": 167,
        "endChar": 11
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a1f8e88_a95a94a3",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 168,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-12-17T01:25:17Z",
      "side": 1,
      "message": "\"Collects\"",
      "range": {
        "startLine": 168,
        "startChar": 2,
        "endLine": 168,
        "endChar": 9
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ca061ea7_6b62998e",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 168,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4a1f8e88_a95a94a3",
      "range": {
        "startLine": 168,
        "startChar": 2,
        "endLine": 168,
        "endChar": 9
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46a39ab2_616480a8",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-12-17T01:25:17Z",
      "side": 1,
      "message": "\"Changes\"",
      "range": {
        "startLine": 169,
        "startChar": 2,
        "endLine": 169,
        "endChar": 8
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb9d7cca_42b45569",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46a39ab2_616480a8",
      "range": {
        "startLine": 169,
        "startChar": 2,
        "endLine": 169,
        "endChar": 8
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af96872b_956ab1fe",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-12-17T01:25:17Z",
      "side": 1,
      "message": "In the application service unit, set `OnFailure\u003d...`",
      "range": {
        "startLine": 173,
        "startChar": 2,
        "endLine": 173,
        "endChar": 25
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9a0a422f_80512a8c",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "af96872b_956ab1fe",
      "range": {
        "startLine": 173,
        "startChar": 2,
        "endLine": 173,
        "endChar": 25
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8ab55e8e_1f4c0022",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 322,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-12-17T01:25:17Z",
      "side": 1,
      "message": "I think the document should be structured with separate \"chapters\" - one to address platform-data-provider failure handling and one to address platform-data-transport-provider handling. The document was written with the latter as the focus and I think it\u0027s disruptive to the flow of the argument to have discussion of platform-data-provider failure handling spread throughout.",
      "range": {
        "startLine": 307,
        "startChar": 0,
        "endLine": 322,
        "endChar": 74
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "025b13b3_de871acb",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 322,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ab55e8e_1f4c0022",
      "range": {
        "startLine": 307,
        "startChar": 0,
        "endLine": 322,
        "endChar": 74
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "002965ce_30aed1bc",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 452,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-12-10T15:30:30Z",
      "side": 1,
      "message": "Is there anything we can do to simply monitor for failed services and have an allow/block list of ones for which we react?  I\u0027m not sure the quiesce target is great because it means you only get one-shot at collecting failures per BMC reboot, right?",
      "range": {
        "startLine": 449,
        "startChar": 0,
        "endLine": 452,
        "endChar": 62
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce9fa064_c09bec0c",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 452,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "So, this definitely got me thinking about https://github.com/openbmc/docs/blob/master/designs/target-fail-monitoring.md. That could be enhanced to also look for input systemd service states. The benefit is it\u0027s a lot cleaner to add whichever services we want to a json file vs. needing to add the OnFaile... to all the actual service files. I\u0027d probably keep the target since it\u0027s a way for the bmc-state service to know to show Quiesce but the target-fail-monitoring code would generate an error and dump for each individual service file (and ensure the quiesce target is started on the first detected failure). Let me sleep on it over night and think about it. Comments welcome.",
      "parentUuid": "002965ce_30aed1bc",
      "range": {
        "startLine": 449,
        "startChar": 0,
        "endLine": 452,
        "endChar": 62
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b9a9a93_4edeef05",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 452,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-05-03T16:43:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ce9fa064_c09bec0c",
      "range": {
        "startLine": 449,
        "startChar": 0,
        "endLine": 452,
        "endChar": 62
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "edf9bfaf_b6942889",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 459,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-12-17T01:25:17Z",
      "side": 1,
      "message": "\"intents and\" ?",
      "range": {
        "startLine": 459,
        "startChar": 40,
        "endLine": 459,
        "endChar": 49
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "31de5167_2b075b70",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 459,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "edf9bfaf_b6942889",
      "range": {
        "startLine": 459,
        "startChar": 40,
        "endLine": 459,
        "endChar": 49
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04d4759f_ee0725c6",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 460,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-12-17T01:25:17Z",
      "side": 1,
      "message": "Seems a bit casual given the style in the rest of the document ðŸ˜Š",
      "range": {
        "startLine": 460,
        "startChar": 2,
        "endLine": 460,
        "endChar": 9
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd12937f_2efb44e9",
        "filename": "designs/bmc-service-failure-debug-and-recovery.md",
        "patchSetId": 3
      },
      "lineNbr": 460,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-02-08T22:44:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04d4759f_ee0725c6",
      "range": {
        "startLine": 460,
        "startChar": 2,
        "endLine": 460,
        "endChar": 9
      },
      "revId": "f9cff5c163534189f4205183c34a5a9a6169d1f7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}