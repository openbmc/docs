{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ab89e2e9_57f121ef",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 34,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-09-17T13:48:35Z",
      "side": 1,
      "message": "We should probably add something early on here to indicate this is a sample IBM reference implementation.",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 34,
        "endChar": 70
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "372e762e_77fef0d1",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 34,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-09-18T18:58:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ab89e2e9_57f121ef",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 34,
        "endChar": 70
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f384972_6151ee8d",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 79,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-09-17T13:48:35Z",
      "side": 1,
      "message": "Are you contributing a driver for this device?  Where is the BMC code for it going to go?",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 79,
        "endChar": 39
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8b8b4d1_5aa9e5b7",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 79,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-09-18T18:58:42Z",
      "side": 1,
      "message": "Yea, there will be some FSI driver changes, which I presume will be made upstream to the existing FSI driver, and a new driver for a new device that I also presume will be submitted upstream.",
      "parentUuid": "7f384972_6151ee8d",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 79,
        "endChar": 39
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45f95b21_c7aa87dc",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 100,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2024-10-25T01:03:17Z",
      "side": 1,
      "message": "I\u0027d argue the requirement is at most one BMC to become active.  (As you desscribed below during reboot of the active a failure may lead to no active BMCs).",
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cdc69a93_08d2672c",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 102,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-09-17T13:48:35Z",
      "side": 1,
      "message": "Is this ordered correctly?\n\n\"A specific IBM requirement\"\n\"An IBM specific requirement\"",
      "range": {
        "startLine": 102,
        "startChar": 2,
        "endLine": 102,
        "endChar": 28
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e04c48d_ae25c724",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 102,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-09-18T18:58:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cdc69a93_08d2672c",
      "range": {
        "startLine": 102,
        "startChar": 2,
        "endLine": 102,
        "endChar": 28
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "773e31d1_690c9a06",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 106,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2024-10-25T01:03:17Z",
      "side": 1,
      "message": "This paragrraph has one or two requirements hidden in lots of justification for the proposed design choices.\n\nA better statement of the requirement may be there is a requirement for the system to automatically boot without an active (a working) network on either or both BMCs (If it doesn\u0027t need to boot independent of the network and one of the bmcs had a network it could be instructed to become the active and then initiate the boot.  If its only that the system boot but not enable redundancy without network connectivity similar).\n\nIn addition to driving your selection of using the FSI as your negotiation interface (which happens to be required to initiate boot of the system), this also drives your requirement to always select one BMC as active instead of allowing both to remain passive until redfish initiates one to become active).\n\nactually; the above is one requirement, and possibly the scope of this one could be reduced to as an IBM specific requirement, that an active BMC needs to be chosen and the system be able to boot without a working ethernet network.  This leads to having the election over the FSI network.\n\nconsider moving the constraints (lack redundant network connectivity) to the background and references section above (eg point one listing the connections).  the statement about not achieving redundancy enabled is just a limitation in the proposed design.  or it could be added as a non-requirement when the network connection between them has failed.",
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b9638f3_0f91217e",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 142,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-09-17T13:48:35Z",
      "side": 1,
      "message": "verisons?",
      "range": {
        "startLine": 142,
        "startChar": 9,
        "endLine": 142,
        "endChar": 15
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e1f55781_3f20e94d",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 142,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-09-18T18:58:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8b9638f3_0f91217e",
      "range": {
        "startLine": 142,
        "startChar": 9,
        "endLine": 142,
        "endChar": 15
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95ff790e_dfe738dc",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 150,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-09-17T13:48:35Z",
      "side": 1,
      "message": "Does this hyperlink style work?",
      "range": {
        "startLine": 150,
        "startChar": 30,
        "endLine": 150,
        "endChar": 32
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fcb34b21_122e1837",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 150,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-09-18T18:58:42Z",
      "side": 1,
      "message": "Yea.  In the gitile it works: https://gerrit.openbmc.org/plugins/gitiles/openbmc/docs/+/cc4b50fb37cc5b74198746988bc9d9706f7bebbb.\n\nIt\u0027s been so long though I don\u0027t remember where I found the documentation for this.",
      "parentUuid": "95ff790e_dfe738dc",
      "range": {
        "startLine": 150,
        "startChar": 30,
        "endLine": 150,
        "endChar": 32
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "978671b3_7d55cff9",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 153,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2024-10-25T01:03:17Z",
      "side": 1,
      "message": "did you mean active vs passive or active/passive vs non-redundant?\n\nwhile i understand the later, how would a drop-in configuration be conditionally used between active and passive?\n\nor did you just intend to prevent a service file from being changed when the state trnsitions?\n\nI could see starting one service in passive, and having a second service for active that mutually conflicts with the passive one and manually selects a different configuration file, but typically drop-in directories are selected by the daemon or service name and not selectively read.\n\nUnless a service explicitly supports active and passive modes and provides a means to reselect which configuration (which seems contrary to the minimally invasive design goal of this proposal) it would seem that having some means of selecting a different service file, and if transition from passive to active without reboot is a requirement then having alternate units is required (vs selecting one during startup, as the selection would become stale or inconstant on restart).",
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "55ec284d_41f02537",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 396,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-09-17T13:48:35Z",
      "side": 1,
      "message": "Is this \"Sibling\" in the dbus-interface proposal?",
      "range": {
        "startLine": 396,
        "startChar": 52,
        "endLine": 396,
        "endChar": 55
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "49da6a29_911cf2ce",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 396,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-09-18T18:58:42Z",
      "side": 1,
      "message": "Yea. Updated.",
      "parentUuid": "55ec284d_41f02537",
      "range": {
        "startLine": 396,
        "startChar": 52,
        "endLine": 396,
        "endChar": 55
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ed18da7_827fb910",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 469,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-09-17T13:48:35Z",
      "side": 1,
      "message": "You earlier wrote that there isn\u0027t a requirement for the passive to detect failures of the active and become active, but isn\u0027t that what this is a form of?",
      "range": {
        "startLine": 465,
        "startChar": 0,
        "endLine": 469,
        "endChar": 51
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90c28c82_56bc8b66",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 469,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-09-18T18:58:42Z",
      "side": 1,
      "message": "This paragraph states how on startup if a BMC doesn\u0027t successfully come up then the other one is smart enough to become active, otherwise there might not be an active BMC in the system.\n\nThe previous requirement means that at after an active BMC has been determined the passive won\u0027t by itself become active if something were to happen to the active.",
      "parentUuid": "5ed18da7_827fb910",
      "range": {
        "startLine": 465,
        "startChar": 0,
        "endLine": 469,
        "endChar": 51
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bb7a3f9_49a94b5a",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 469,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2024-10-25T01:03:17Z",
      "side": 1,
      "message": "I made some related suggestions in the requirements section.",
      "parentUuid": "90c28c82_56bc8b66",
      "range": {
        "startLine": 465,
        "startChar": 0,
        "endLine": 469,
        "endChar": 51
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7986cb7_1bdee2d4",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 613,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-09-17T13:48:35Z",
      "side": 1,
      "message": "systemd has a `systemctl reload` operation that we don\u0027t typically implement support for but might be useful here.",
      "range": {
        "startLine": 611,
        "startChar": 0,
        "endLine": 613,
        "endChar": 7
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c0077c4_7fed28ea",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 613,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-09-18T18:58:42Z",
      "side": 1,
      "message": "Thanks, noted.  I tried and failed to find what systemctl actually does for that.",
      "parentUuid": "f7986cb7_1bdee2d4",
      "range": {
        "startLine": 611,
        "startChar": 0,
        "endLine": 613,
        "endChar": 7
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f745f02b_309b7456",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 613,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2024-10-25T01:03:17Z",
      "side": 1,
      "message": "there seems to be some documentation of the `notify-reload` Type https://www.freedesktop.org/software/systemd/man/latest/systemd.service.html#Type\u003d\nin addition to the `ExeccReload\u003d` https://www.freedesktop.org/software/systemd/man/latest/systemd.service.html#ExecReload\u003d\n\nThere is also the concept of propagating reload requests to other units https://www.freedesktop.org/software/systemd/man/latest/systemd.unit.html#PropagatesReloadTo\u003d\n\note sending SIGHUP was the traditional method to tell eg inetd or sendmail to read its configuration file.\n\nThat said, I don\u0027t think we want to be changing daemon configurations on the transition to active just like we don\u0027t want to change unit files and force a daemon-reload but would rather configure an alternate service invoking an alternate configuration of the same daemon.  A possible exception would be if there is an API to change the configuration not reading conf files or dropins (like the example in the man page above or chronyd control socket).  Or daemons that explicitly sending a signal from some dbus interface.",
      "parentUuid": "6c0077c4_7fed28ea",
      "range": {
        "startLine": 611,
        "startChar": 0,
        "endLine": 613,
        "endChar": 7
      },
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38b3bddb_ac69b8d8",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 673,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-09-17T13:48:35Z",
      "side": 1,
      "message": "It is a little concerning that we\u0027re pointing to a pending design that hasn\u0027t been updated in about 6 months.",
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a2b041d_05384a0a",
        "filename": "designs/redundant-bmc.md",
        "patchSetId": 9
      },
      "lineNbr": 673,
      "author": {
        "id": 1000427
      },
      "writtenOn": "2024-09-17T13:59:41Z",
      "side": 1,
      "message": "My apologies for the [delay](https://gerrit.openbmc.org/c/openbmc/docs/+/71039/4#message-282527b803da39a1202483af7847103cfa9ca687) in the data sync design document. I\u0027ve been working on a POC and have been tied up with other priority items. I\u0027m aiming to share some references along with the design document to help address comments from the previous patch set.\n\nI hope this change can be reviewed independently. If you need any additional details, please let me know, and I\u0027ll work on providing an updated design document.",
      "parentUuid": "38b3bddb_ac69b8d8",
      "revId": "cc4b50fb37cc5b74198746988bc9d9706f7bebbb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}